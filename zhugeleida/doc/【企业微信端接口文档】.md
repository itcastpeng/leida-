[TOC]

#### code 说明：
```python
200 正常

300 角色名已存在
301 数据类型验证失败
302 对应ID不存在
303 form 验证错误
304 含有子级数据,请先删除或转移子级数据
305 不允许删除自己
306 账户未启用

401 账号密码错误
402 请求方式异常 例如应该使用 POST 请求的使用的是 GET 请求
403 无任务
404 非法请求



```
####   公共参数（登录后所有api都需要加的参数）

``` python
?rand_str=RAND_STR&timestamp=TIME_STAMP&user_id=USER_ID
请求方法：GET
请求参数:
参数名    是否必须    参数描述
rand_str    是        md5(timestamp + token) 使用 md5 进行加密
timestamp   是        时间戳   python获取方式: str(int(time.time() * 1000))   js 获取方式 new Date().getTime().toString(); 
user_id     是        当前登录用户ID

```



####   查询用户：
GET的数据部分【公共参数】：

```python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,                             
}
```

搜索参数说明：
```
 参数名                 搜索                        说明
username               是                         用户名(可模糊搜索）
role__name             是                         角色名(可模糊）   
company__name          是                         公司名（可模糊）
create_date            是                         创建时间            
```

 请求示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/user?rand_str=d51d2ab1cec69db820c08adddf2f3a61&timestamp=1528114804033&user_id=1


返回结果:
``` json
{
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":[
            {
                "id":2,
                "username":"zhangju",
                "role_name":"普通用户",
                "role_id":1,
                "create_date":"2018-05-31T08:18:42",
                "last_login_date":"2018-05-31T08:18:39",
                "status":"启用"
            },
            {
                "id":1,
                "username":"zhangcong",
                "role_name":"普通用户",
                "role_id":1,
                "create_date":"2018-05-30T22:16:20",
                "last_login_date":"2018-05-30T22:16:23",
                "status":"启用"
            }
        ],
        "data_count":3
    }
}
```

####  增加用户:


POST数据示例：

``` python
{  
    'userid' = 'zhangcong'  
    'username' = 'H2O'
    'password' = '123456'
    'role_id' = 1
    'company_id' = 1
}
```

POST请求 发送参数说明

``` python
参数          必填            说明                              
usedid        否             成员UserID,通过微信认证获取的。        
username      是             登录用户名
password      是             密码     
role_id       是             角色ID
company_id    是             公司ID
```

GET 请求发送参数：

``` python
  {
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
   }
```

请求示例：

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/user/add/0?rand_str=ce663215f5c33b93c710c7af952da914&timestamp=1528121862752&user_id=1   # 增加用户
 
 


#### 删除用户:
GET 请求发送数据部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```
 
请求访问示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/user/delete/4

 
#### 修改用户：
 
GET 请求发送数据部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
``` 

POST数据示例：

``` python
{  
    'username' ：'张三'
    'password' ： '123456'
    'role_id' ： 1
    'company_id' ： 1
}

``` 

POST参数说明：

``` python
 
参数        说明
username    登录用户名
password    密码
role_id     角色ID
company_id  公司ID

```

访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/user/update/5?rand_str=4c75edb76b06a2983040980f171b83e7&timestamp=1528169127235&user_id=1
      
####  【查询【单个】客户信息：

GET 请求发送数据部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
    'customer_id'；2  
}
```

GET 参数说明：

``` python
参数名                 必填                说明
customer_id            是                  客户ID
user_id                是                  用户ID                                                    
```

访问示例:
 
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/customer      #查询-单个客户信息


返回结果：

``` python
{
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":[
            {
                "id":1,
                "username":"张炬[客户2]",       #客户名称  
                "headimgurl":"statics/imgs/setAvator.jpg",
                "expected_time":"2018-06-14",   #预计成交时间
                "expedted_pr":"80",             # 预计成交概率
                "ai_pr":"80",                   # AI 成交率
                "superior":"张聪[客户1]",       # 上级人
                "source":"扫码",                # 客户通过扫码方式来关注此用户。
                "memo_name":null,               # 客户的备注名
                "phone":"",                     #  客户的手机号
                "email":"",                     # 邮箱 
                "company":"",                   # 在职公司
                "position":"",                  # 所在职位
                "address":"",                   # 客户所在的住址 
                "birthday":"",                  # 客户的生日
                "mem":"",                       # 客户个人信息备注等  
                "tag":[                         #客户的标签
                    "在意质量",
                    "一般客户",
                    "重要客户",
                    "已婚",
                    "爱撸串",
                    "90后",
                    "爱吃串"
                ]
            }
        ],
        "data_count":1
    }
}
  
```

#### 修改或增加 客户关联的【信息表】：

请求方式：POST（HTTP）
请求示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/customer/update_information/2?rand_str=4c75edb76b06a2983040980f171b83e7&timestamp=1528169127235&user_id=1


GET 请求发送数据部分：
``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```  
POST 请求数据部分:
 
``` python
{
   
   'username' : '张三丰',
   'belonger' : 1,
   'superior' : 1,
   'source' : 1,
   'sex' : 1 ,
   'memo_name' : '太乙真人',
   'phone': '15931788974',
   'email' : '1224423@qq.com',
   'company': '合众康桥',
   'position': '开发TTT',
   'address' : '通州区xxx',
   'mem' : '我是一个兵',
   'birthday' : '2018-06-1'
   
}
```

POST参数说明：

``` python
参数        必填          说明
id          是           客户ID
source      是           客户来源
sex         是           1代表男 2 代表女
username    否           客户名【备注名】
password    否           密码
email       否           电子邮件
company     否           客户所属公司
position    否           职位
address     否           住址
birthday    否           生日
mem         否           备注
```

返回结果：   

{"code": 200, "msg": "\u6dfb\u52a0\u6210\u529f", "data": {}}
 
 
####  修改|添加 - 客户信息

请求方式：POST（HTTP）
请求示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/customer/update_customer/1?rand_str=4c75edb76b06a2983040980f171b83e7&timestamp=1528169127235&user_id=1
 

GET 请求发送数据部分【公共参数】：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
 
```  
 
POST 请求数据部分:

``` python
{
   'tag_list' : [2,3],
   'expedted_pr' : '80%',
   'expected_time':  '2018-06-06'
}
```
   
POST参数说明：

``` python
参数            必填          说明
tag_list        否           标签tag
expedted_pr     否           成交概率
expected_time   否           成交时间

``` 

返回结果：

``` python
{"code": 200, "msg": "\u6dfb\u52a0\u6210\u529f", "data": {}}

``` 

####  删除客户：

请求方式：GET（HTTP）
请求示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/customer/delete/3?rand_str=RAND_STR&timestamp=TIMESTAMP&user_id=USER_ID


GET 请求发送数据部分【公共参数】：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```

####  查询角色：

请求方式：GET（HTTP）
请求示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/role?rand_str=94e83293256bed726191ba207c53e342&timestamp=1528209075753&user_id=1

GET 请求发送数据部分：
```  python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```

返回结果：
``` python
{
    "code":200,
    "msg":"",
    "data":{
        "ret_data":[
            {
                "id":1,
                "name":"普通用户",
                "role_id":1,
                "create_date":"2018-06-04T10:12:08.474"
            }
        ],
        "data_count":1
    }
}

```
####  增加角色：

请求方式：POST（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/role?rand_str=94e83293256bed726191ba207c53e342&timestamp=1528209075753&user_id=1


GET 请求发送数据部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```

POST参数说明:
 
``` python
参数            必填          说明
name            是            角色名称
```


####  删除角色：

请求方式：PSOT（HTTP）
请求示例：
> http://127.0.0.1:8000/zhugeleida/qiyeweixin/role/delete/3?rand_str=94e83293256bed726191ba207c53e342&timestamp=1528209075753&user_id=1

GET 请求发送数据部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```


####   修改角色

请求方式：POST（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/role/update/3?rand_str=94e83293256bed726191ba207c53e342&timestamp=1528209075753&user_id=1


GET 请求发送数据部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```
 
POST 数据格式：

``` python
{
  'name': '普通用户' 
}
```

POST参数说明：

``` python
参数            必填          说明
name            是            角色名称
```

####  增加权限：
请求方式：POST（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/role/add/0?rand_str=94e83293256bed726191ba207c53e342&timestamp=1528209075753&user_id=1


GET 请求发送数据部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```

POST 数据格式

``` python
{
 'path' : /admin/zhugeleida/quanxian/1111/,
 'icon' : 'xxxxx',
 'title': '访问admin后台'
 'pid_id' : 1,
 'order_num' : 2 
}
```

POST参数说明：

``` python
参数            必填          说明
path            是            访问URL
icon            否           
title           是            父级ID
order           是            排序序号
```

 
####    删除权限条目：
请求方式：POST（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/role/add/0?rand_str=94e83293256bed726191ba207c53e342&timestamp=1528209075753&user_id=1


GET发送数据部分：
``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```

####  修改权限条目：
请求方式：POST（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/role/update/3?rand_str=94e83293256bed726191ba207c53e342&timestamp=1528209075753&user_id=1

GET 请求发送数据部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
``` 

POST 数据格式

``` python
{
 'path' : /admin/zhugeleida/quanxian/1111/,
 'icon' : 'xxxxx',
 'title': '访问admin后台'
 'pid_id' : 1,
 'order_num' : 2 
}
``` 

POST参数说明：

``` python
参数            必填          说明
path            是            访问URL
icon            否           
title           是            父级ID
order           是            排序序号
```

####  查询公司：

请求方式：GET（HTTP）
请求示例
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/company
 

GET 请求发送数据部分【公共参数】：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```

返回结果：
```python
{
    "code":200,
    "msg":"",
    "data":{
        "ret_data":[
            {
                "id":1,
                "name":"合众康桥",
                "company_id":1,
                "create_date":"2018-06-04T10:12:38.381"
            }
        ],
        "data_count":1
    }
}
```
 

####  增加公司：
请求方式：POST（HTTP）
请示示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/company/delete/3?rand_str=88648074e6e50180796ba8def0154ef9&timestamp=1528203315968&user_id=1

GET 请求发送数据部分【公共参数】：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
    'name' :   '合众康桥2',
}
``` 

POST 数据格式:
 
``` python
 {
    'name': '东方银谷',
 }
``` 
   
GET 参数说明：

``` python
参数            必填          说明
name            是           公司名
```

请示示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/company/add/0?rand_str=88648074e6e50180796ba8def0154ef9&timestamp=1528203315968&user_id=1
 
####   删除公司：
请求方式：POST（HTTP）
请示示例：
http://127.0.0.1:8000/zhugeleida/qiyeweixin/company/delete/3?rand_str=88648074e6e50180796ba8def0154ef9&timestamp=1528203315968&user_id=1

GET 请求发送数据部分【公共参数】：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
    'name' :   '合众康桥2',
}
```
   

####   修改公司：
请求方式：POST（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/company/update/2?rand_str=88648074e6e50180796ba8def0154ef9&timestamp=1528203315968&user_id=1
 
GET 请求发送数据部分【公共参数】:

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
``` 

POST参数说明：

``` python
参数            必填          说明
name            是            角色名称
```

POST 数据格式：

``` python
 {
    'name': '东方银谷',
 }
```

 
POST参数说明：

``` python
参数            必填          说明
name            是           公司名

```
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/company/update/2?rand_str=88648074e6e50180796ba8def0154ef9&timestamp=1528203315968&user_id=1


####  【企业微信】查询标签 -（有客户关联的标签_全部显示出来）

请求方式：GET（HTTP）
请求示例：
>http://192.168.100.20:8000/zhugeleida/qiyeweixin/tag_customer?rand_str=f107cb8bdce9794748dfe01bb240cea5&timestamp=1529033091635&user_id=1


GET 发送数据部分【公共参数】：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
``` 
 

返回结果：

``` python
{
    "code":200,
    "msg":"",
    "data":{
        "ret_data":[
            {
                "id":11,
                "name":"90后",
                "tag_id":11,
                "customer_num":5,
                "customer_list":[
                    {
                        "id":1,
                        "headimgurl":"statics/imgs/setAvator.jpg",
                        "name":"张炬[客户2]"
                    },
                    {
                        "id":2,
                        "headimgurl":"statics/imgs/setAvator.jpg",
                        "name":"张聪[客户1]"
                    },
                    {
                        "id":3,
                        "headimgurl":"dfdsfas",
                        "name":"王五"
                    },
                    {
                        "id":4,
                        "headimgurl":"sfdfasd",
                        "name":"赵六"
                    },
                    {
                        "id":5,
                        "headimgurl":"fdsaf",
                        "name":"dfasdf"
                    }
                ]
            },
            {
                "id":8,
                "name":"已婚",
                "tag_id":8,
                "customer_num":4,
                "customer_list":[
                    {
                        "id":1,
                        "headimgurl":"statics/imgs/setAvator.jpg",
                        "name":"张炬[客户2]"
                    },
                    {
                        "id":2,
                        "headimgurl":"statics/imgs/setAvator.jpg",
                        "name":"张聪[客户1]"
                    },
                    {
                        "id":3,
                        "headimgurl":"dfdsfas",
                        "name":"王五"
                    },
                    {
                        "id":4,
                        "headimgurl":"sfdfasd",
                        "name":"赵六"
                    }
                ]
            },
            {
                "id":10,
                "name":"爱撸串",
                "tag_id":10,
                "customer_num":4,
                "customer_list":[
                    {
                        "id":1,
                        "headimgurl":"statics/imgs/setAvator.jpg",
                        "name":"张炬[客户2]"
                    },
                    {
                        "id":2,
                        "headimgurl":"statics/imgs/setAvator.jpg",
                        "name":"张聪[客户1]"
                    },
                    {
                        "id":3,
                        "headimgurl":"dfdsfas",
                        "name":"王五"
                    },
                    {
                        "id":4,
                        "headimgurl":"sfdfasd",
                        "name":"赵六"
                    }
                ]
            },
            {
                "id":7,
                "name":"在意质量",
                "tag_id":7,
                "customer_num":3,
                "customer_list":[
                    {
                        "id":1,
                        "headimgurl":"statics/imgs/setAvator.jpg",
                        "name":"张炬[客户2]"
                    },
                    {
                        "id":2,
                        "headimgurl":"statics/imgs/setAvator.jpg",
                        "name":"张聪[客户1]"
                    },
                    {
                        "id":4,
                        "headimgurl":"sfdfasd",
                        "name":"赵六"
                    }
                ]
            },
            {
                "id":14,
                "name":"爱吃串",
                "tag_id":14,
                "customer_num":2,
                "customer_list":[
                    {
                        "id":1,
                        "headimgurl":"statics/imgs/setAvator.jpg",
                        "name":"张炬[客户2]"
                    },
                    {
                        "id":2,
                        "headimgurl":"statics/imgs/setAvator.jpg",
                        "name":"张聪[客户1]"
                    }
                ]
            },
            {
                "id":15,
                "name":"大傻子客户",
                "tag_id":15,
                "customer_num":2,
                "customer_list":[
                    {
                        "id":2,
                        "headimgurl":"statics/imgs/setAvator.jpg",
                        "name":"张聪[客户1]"
                    },
                    {
                        "id":4,
                        "headimgurl":"sfdfasd",
                        "name":"赵六"
                    }
                ]
            },
            {
                "id":9,
                "name":"在意 服务",
                "tag_id":9,
                "customer_num":1,
                "customer_list":[
                    {
                        "id":3,
                        "headimgurl":"dfdsfas",
                        "name":"王五"
                    }
                ]
            }
        ],
        "ret_count":9
    }
}
 
```



#### 【企业微信】 添加客户标签 (同时绑定到此客户)
请求方式：POST（HTTP）

请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/tag_customer/add/0?rand_str=a8a0d211d38f9dad59dae633629463e5&timestamp=1528206224801&user_id=1

GET 请求发送数据部分【公共参数】：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```
 
POST 数据格式：

``` python
 {
    'name' : '客户不好惹',
    'customer_list':  '[2,3]'
 }
```
   
 POST参数说明：

``` python
参数            必填          说明
name            是            标签名
customer_list   是           【客户id1，客户id2】
```


####  【企业微信】查询所有标签-（分级展示）
请求方式：GET（HTTP）

请求示例：
>http://192.168.100.20:8000/zhugeleida/qiyeweixin/tag_list?rand_str=c0154475f83759e5851644425c5833e0&timestamp=1529041855696&user_id=1 

GET 请求发送数据部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token), #公共参数
    'timestamp': timestamp,                             #公共参数  
    'user_id': 1,                                       #公共参数 
}
```
 
返回结果:

POST 数据格式：

``` python
{
    "code":200,
    "msg":"请求成功",
    "data":{
        "ret_data":[
            {
                "tags":[
                    {
                        "id":8,
                        "name":"已婚"
                    },
                    {
                        "id":11,
                        "name":"90后"
                    }
                ],
                "name":"基本功能"
            },
            {
                "tags":[
                    {
                        "id":7,
                        "name":"在意质量"
                    },
                    {
                        "id":9,
                        "name":"在意 服务"
                    }
                ],
                "name":"关注点"
            },
            {
                "tags":[
                    {
                        "id":5,
                        "name":"一般客户"
                    },
                    {
                        "id":6,
                        "name":"重要客户"
                    }
                ],
                "name":"级别"
            },
            {
                "tags":[
                    {
                        "id":10,
                        "name":"爱撸串"
                    },
                    {
                        "id":14,
                        "name":"爱吃串"
                    },
                    {
                        "id":15,
                        "name":"大傻子客户"
                    }
                ],
                "name":"自定义"
            }
        ],
        "tag_count":4
    }
}
```
 


####  【企业微信】添加新标签 （同时绑定此新标签到此客户）
请求方式：POST（HTTP）

请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/tag_list/add_tag/2?rand_str=a8a0d211d38f9dad59dae633629463e5&timestamp=1528206224801&user_id=1
GET 请求发送数据部分【公共参数】：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
``` 

URL 说明：
``` python
参数：       必填        说明
{{o_id}}     是         /zhugeleida/qiyeweixin/tag_list/add_tag/{{ o_id }}   o_id 代表 customer_id 

```

POST 数据格式：

``` python
 {
    'name' : '大傻子型客户',
 }
```
   
 POST参数说明：

``` python
参数            必填          说明
name            是            标签名
```


####  【企业微信】删除标签
请求方式：POST（HTTP）

请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/tag_list/delete_tag/2?rand_str=a8a0d211d38f9dad59dae633629463e5&timestamp=1528206224801&user_id=1
GET 请求发送数据部分【公共参数】：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
``` 

URL 说明：
``` python
参数：       必填        说明
{{o_id}}     是         /zhugeleida/qiyeweixin/tag_list/delete_tag/{{ id }}   o_id 代表 标签ID

```





####   【企业微信】给客户绑定标签（多个标签要以一个列表形式去发送并绑定）
请求方式：POST（HTTP）

请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/tag_list/customer_tag/2?rand_str=a8a0d211d38f9dad59dae633629463e5&timestamp=1528206224801&user_id=1

GET 请求发送数据部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),  【公共参数】
    'timestamp': timestamp,                                【公共参数】
    'user_id': 1,                                        【公共参数】
}
``` 

POST 数据格式：

``` python
 {
     'tag_list' : [1,2]
 }
```    


POST参数说明：

``` python
参数            必填          说明
name            是            标签名
tag_list        否           【标签id1，标签id2】
```

URL参数说明：

``` python
参数：       必填        说明
{{o_id}}     是         /zhugeleida/qiyeweixin/tag_list/customer_tag/{{ o_id }}   o_id 代表 customer_id 

```




####   【企业微信 - 分页获取-消息联系人】
Tip：（显示聊天信息+动作日志的最新记录）

请求方式：GET（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/contact?rand_str=267880efc9fc674d7f088c19c4d0bab2&timestamp=1528870581400&user_id=1

GET 请求发送数据部分【公共参数】：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
``` 

GET 参数说明：

``` python
参数说明         必填        参数说明:
current_page     否          当前页数
length           否          每页长度20页
``` 


返回结果:


``` python

{
    "code":200,
    "msg":"",
    "data":{
        "ret_data":[
            {
                "customer_id":1,
                "src":"http://api.zhugeyingxiao.com/statics/imgs/setAvator.jpg",
                "name":"张炬[客户2]",
                "dateTime":"11:49",
                "msg":"近年来，中俄两国领导人每年都会会晤多次，今年也不例外。报道称，普京在参加完上合峰会后，还会陆续出席金砖四国峰会和亚太经合组织峰会(APEC) 峰会。"
            },
            {
                "customer_id":2,
                "src":"http://api.zhugeyingxiao.com/statics/imgs/setAvator.jpg",
                "name":"张聪[客户1]",
                "dateTime":"11:48",
                "msg":"，俄总统普京将在上海合作组织成员国元首理事会青岛峰会（上合峰会）前夕对中国进行国事访问。这一消息已经得到了克里姆林宫的证实。"
            }
        ],
        "data_count":2
    }
}
```
####  【企业微信 - 分页获取-所有的聊天信息记录】

请求方式：GET（HTTP）
请求示例：

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/chat?rand_str=53444e4ca12d03176c9b6109c0c557b0&timestamp=1528871213546&user_id=1&customer_id=1

GET 请求参数部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 2,   
    'customer_id': 1,
    'current_page'：1,            
    'length'     :   20           
}

```

GET参数说明:

``` python
参数           必填          说明
user_id        是           用户的ID
customer_id    是           客户的ID
current_page   否           当前页数
length         否           每页长度
current_page   否           当前页数
length'        否           每页长度(每页长度为20页)
```

返回结果：

```  python
{
    "code":200,
    "msg":"分页获取-全部聊天消息成功",
    "data":{
        "ret_data":[
            {
                "customer_id":1,
                "customer_avatar":"statics/imgs/setAvator.jpg",
                "user_id":1,
                "src":"statics/imgs/setAvator.jpg",
                "name":"张炬[客户2]",
                "dateTime":"2018-06-13T11:44:32.456",
                "msg":"据中国日报网报道，在记者会上，特朗普再次对朝鲜领导人金正恩表示感谢",
                "send_type":1,   
                "info_type":1   # 消息的类型，为1 的话是聊天消息，为2 代表是咨询产品
            },
            {
                "customer_id":1,
                "customer_avatar":"statics/imgs/setAvator.jpg",
                "user_id":1,
                "src":"statics/imgs/setAvator.jpg",
                "name":"张炬[客户2]",
                "dateTime":"2018-06-13T11:49:57.000",
                "msg":"近年来，中俄两国领导人每年都会会晤多次，今年也不例外。报道称，普京在参加完上合峰会后，还会陆续出席金砖四国峰会和亚太经合组织峰会(APEC) 峰会。",
                "send_type":2,
                "info_type":1
            },
            {
                "customer_id":1,
                "customer_avatar":"statics/imgs/setAvator.jpg",
                "user_id":1,
                "src":"statics/imgs/setAvator.jpg",
                "name":"张炬[客户2]",
                "dateTime":"2018-06-26T21:33:03.133",
                "msg":"YYYYTTTTT",
                "send_type":1,
                "info_type":1
            },
            {
                "customer_id":1,
                "customer_avatar":"statics/imgs/setAvator.jpg",
                "user_id":1,
                "src":"statics/imgs/setAvator.jpg",
                "name":"张炬[客户2]",
                "dateTime":"2018-07-08T17:05:15.429",
                "product_cover_url":"statics\zhugeleida\imgs\chat\074d8836-828e-11e8-9810-40a5ef44f172.jpg",
                "product_name":"2018世界女排联赛入场票0.0",
                "product_price":"50-1380元0.0",
                "info_type":2,    # 消息的类型，为1 的话是聊天消息，为2 代表是咨询产品
                "send_type":1
            }
        ],
        "data_count":4
    }
}
``` 



####  【企业微信 - 实时聊天-发送消息接口】

请求方式：POST（HTTP）

请求示例

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/chat/send_msg/0?rand_str=7931b9ab560500e52492fbe92e1f3d6c&timestamp=1528182912675&user_id=1

 GET 请求参数部分：
```  python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 2,
}
``` 

 
POST 请求参数部分：
```  python
参数             必填        说明
customer_id      是          客户ID
user_id          是          用户ID

content = {
    'info_type' :  1 , # 1代表发送的文字\表情\ 或 话术库里的自定义(文字表情)。
    'msg': '这个信息是文字\表情'
}
    或
content = {
    'info_type' : 2 , # 2代表发送的产品咨询  3代表发送的电话号码  4代表发送的图片|截图  5、视频
    'product_cover_url': 'statics/zhugeleida/imgs/chat/2d49ecd2-9180-11e8-a32d-8e2edea1cc9c.png',
    'product_name': '产品名字',
    'product_price': '产品价格',
}
    或
content = {
    'info_type' : 3   ,   # 3代表客户要触发事件要电话号码  
    'msg': '您好,请问能否告诉我您的手机号?'
    ......
}
    或
content = {
         'info_type' : 4  ,   # 4代表发送的图片|截图
         'url': 'statics/zhugeleida/imgs/chat/xxxx.jnp'
         ......
    }
    或
content = {
         'info_type' : 5  ,   # 4代表发送的 视频
         'url': 'statics/zhugeleida/imgs/chat/YYYY.mp4'
         ......
     }  


send_type        发送        发送类型，1代表 用户发送给客户 ,  2代表 客户发送给用户。
``` 

返回结果：
```  python
{"code": 200, "msg": "send msg successful", "data": {}}
``` 
 


####   【企业微信 - 实时聊天-获取最新的聊天信息】

请求方式：GET（HTTP）
请求示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/chat/getmsg/0?rand_str=51d703e387eb75da00f32520d7964d24&timestamp=1528872527395&user_id=1&customer_id=2
 
 
GET 请求参数部分：

```  python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 2,
    'customer_id': 1
}

``` 

GET请求参数部分：

```  python
参数            必填         说明
customer_id     是           客户ID
user_id         是           用户ID
``` 

 返回结果：

```  python
{
    "code":200,
    "msg":"实时获取-最新聊天记录成功",
    "data":[
        {
            "customer_id":2,
            "user_id":1,
            "src":"http://api.zhugeyingxiao.com/statics/imgs/setAvator.jpg",
            "name":"张聪[客户1]",
            "dateTime":"2018-06-13T11:48:25.456",
            "send_type":2,
            "msg":"，俄总统普京将在上海合作组织成员国元首理事会青岛峰会（上合峰会）前夕对中国进行国事访问。这一消息已经得到了克里姆林宫的证实。"
        },
        {
            "customer_id":2,
            "user_id":1,
            "src":"http://api.zhugeyingxiao.com/statics/imgs/setAvator.jpg",
            "name":"张聪[客户1]",
            "dateTime":"2018-06-13T11:45:40.456",
            "send_type":1,
            "msg":"武汉大四学生坠楼的最新相关信息"
        }
    ]
}
``` 

####    【企业微信 - 实时获取-最新访问动作日志】

请求方式：GET（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/action/get_new_log?rand_str=4b8120c4a83c83ad3a2d2a4d91887f19&timestamp=1529545515255&user_id=2&action=6 【获取用户ID为2的最新动作日志消息】

GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 1,
       
    }
```


GET参数必要说明:

``` python
参数：      必填      参数说明
user_id      是       企业微信-用户ID     

```

返回结果 ：

``` python
{
    "code":200,
    "msg":"查询日志记录成功",
    "data":{
        "ret_data":[
            {
                "user_id":2,
                "customer_id":2,
                "action":"转发名片",
                "log":"张聪[客户1]转发了你的名片,你的人脉圈正在裂变",
                "create_date":"2018-06-21T09:24:59.613"
            },
            {
                "user_id":2,
                "customer_id":2,
                "action":"拨打电话",
                "log":"张聪[客户1]拨打您的手机",
                "create_date":"2018-06-21T08:55:35.570"
            },
            {
                "user_id":2,
                "customer_id":1,
                "action":"觉得靠谱",
                "log":"张炬[客户2]取消对你的靠谱评价",
                "create_date":"2018-06-20T13:34:51.858"
            },
            {
                "user_id":2,
                "customer_id":1,
                "action":"查看名片",
                "log":"张炬[客户2]查看你的名片",
                "create_date":"2018-06-20T13:05:11.081"
            }
        ],
        "data_count":4
    }
}
```


####    【企业微信 - 生成小程序的二维码（放在小程序名片）】


请求方式：GET（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/qr_code_auth?rand_str=245416a1d0f21129e8e028afaadb592a&timestamp=1529551521953&user_id=2 


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2,   # 企业微信的用户ID
       
    }
```


GET参数必要说明:

``` python
参数：      必填      参数说明
user_id      是       企业微信-用户ID     

```

返回结果 ：

``` python
    {
        "code":200,
        "msg":"生成小程序二维码成功",
        "data":{

        }
    }
```





#### 【企业微信 - 登录认证】
请求方式：GET（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/work_weixin_auth/{{company_id}}?code={{code}}&user_type=1&source=2
 

GET 请求参数部分：
```  python
{
    'code':  'pm4Mp2zwTb0GOxcJ3hhYETNaWhPWF5lDwDZ_mHWHOqQ', 
    'user_type': 1
}
``` 
GET请求参数部分：
```  python
参数            必填         说明
code            是           微信访问带的code
company_id      是           企业的company_id
user_type       是           客户访问类型     1,微信公众号  2,微信小程序
source          是           客户的来源       1,扫码  2,转发
 
```

#### 【企业微信 - 生成JS-SDK使用权限签名算发接口】
描述：通过使用企业微信JS-SDK，网页开发者可借助企业微信高效地使用拍照、选图、语音、位置等手机系统的能力，同时可以直接使用企业微信分享、扫一扫等企业微信特有的能力，为企业微信用户提供更优质的网页体验。

请求方式：GET（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/enterprise_weixin_sign?rand_str=30a69aaf394c364c8ed3d60a908326f2&timestamp=1534842484993&user_id=2
 

GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2,
       
    }
```



结果返回：
``` python
{
    "code":200,
    "msg":"查询成功",
    "data":{
        "signature":"917ace339b2e5fa6c9691e62b66d1675ec85d522",  #sha1签名 
        "timestamp":1534842486,   # 时间戳
        "nonceStr":"g6pdS1rqmO3PQCRM",   #16位随机字符串
        "appId": "wx81159f52aff62388"     #企业微信的corpID
    }
}
```


#### 【企业微信 - 文章 -  生成转发文章的URL】
描述：雷达用户 生成转发文章至公众号的URL 链接。

请求方式：GET（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/work_weixin_auth/create_gongzhonghao_share_auth_url?rand_str=6e176030dcdfa5deebd578c4d9b383f3&timestamp=1535957977696&user_id=1&article_id=1

 

GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2, #雷达用户ID
        
        'article_id' : 1  # 转发的文章ID
      
       
    }
```



结果返回：
``` python
{"code": 200, "msg": "\u8fd4\u56de\u6210\u529f", "data": {"share_url": "http://api.zhugeyingxiao.com/zhugeleida/gongzhonghao/work_gongzhonghao_auth/redirect_share_url?share_url=https%3A%2F%2Fopen.weixin.qq.com%2Fconnect%2Foauth2%2Fauthorize%3Fappid%3Dwxa77213c591897a13%26redirect_uri%3Dhttp%3A%2F%2Fapi.zhugeyingxiao.com%2Fzhugeleida%2Fgongzhonghao%2Fwork_gongzhonghao_auth%3Frelate%3Darticle_id_1%7Cpid_1%7Clevel_1%7Cuid_1%7Ccompany_id_1%26response_type%3Dcode%26scope%3Dsnsapi_base%26state%3Dsnsapi_base%26component_appid%3Dwx6ba07e6ddcdc69b3%23wechat_redirect"}}

```

#### 【企业微信 - 文章 -  生成转发文时公众号JS-SDK使用权限签名算法】
描述：雷达里 生成公众号JS-SDK使用权限签名算法

请求方式：GET（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/work_weixin_auth/gongzhonghao_share_sign?rand_str=6e176030dcdfa5deebd578c4d9b383f3&timestamp=1535957977696&user_id=1

 

GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2, #雷达用户ID
        
     
    }
```



结果返回：
``` python


```

#### 【 企业微信 - 1.1、我的文章 -  潜在客户】
描述：

请求方式：GET（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/article/hide_customer_data/2?rand_str=943af2aab988555efeafa491a028ab8f&timestamp=1536325157577&user_id=18

 

GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2, #雷达用户ID
         
    }
```
GET请求参数部分：
```  python
参数                                                        必填         说明
/zhugeleida/qiyeweixin/article/hide_customer_data/{id}    是           文章ID
 
```



结果返回：
``` python
{
    "code":200,
    "msg":"返回成功",
    "data":{
        "ret_data":[
            {
                "article_id":2,
                "uid":18,                # 雷达用户ID
                "user_name":"韩新颖",    # 雷达用户姓名
                "customer_id":862,       #  客户ID 
                "customer_name":"修炼爱情的悲欢",  # 客户姓名
                "customer_headimgurl":"[http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIOQaLUnW7A2mN6N7lt3zh5Siao9LVic6ZbByeeHias5CWIjxuhM382xmTtWZN78rWZ43F5ZKheNbiahQ/132](http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIOQaLUnW7A2mN6N7lt3zh5Siao9LVic6ZbByeeHias5CWIjxuhM382xmTtWZN78rWZ43F5ZKheNbiahQ/132)",
                "sex_text":"男",   
                "sex":1,
                "area":"北京石景山",
                "read_count":10,        # 阅读数量
                "forward_count":0,       #转发数量
                "stay_time":"2分40秒",   # 停留时间
                "level":1                # 所在层级
                "pid":    #
            },
            {
                "article_id":2,
                "uid":18,
                "user_name":"韩新颖",
                "customer_id":854,
                "customer_name":"Ju do it",
                "customer_headimgurl":"[http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eplZzQgPbp8kI1uODkbThdUpbFMCnKTYSk6b3VjEkN673VKWaIicbCsRpPCfxHn2zBib1NYWXw1uibEg/132](http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eplZzQgPbp8kI1uODkbThdUpbFMCnKTYSk6b3VjEkN673VKWaIicbCsRpPCfxHn2zBib1NYWXw1uibEg/132)",
                "sex_text":null,
                "sex":null,
                "area":"河北保定",
                "read_count":5,
                "forward_count":0,
                "stay_time":"1分30秒",
                "level":2
            },
            {
                "article_id":2,
                "uid":18,
                "user_name":"韩新颖",
                "customer_id":853,
                "customer_name":"做自己",
                "customer_headimgurl":"[http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er83TUfNT8w88gib1vyxnUJAQFcvSicic22fSaNVPUKjk3iawdAicibVhrbo3bTLM9k8IY1hOiagg8fvnnXw/132](http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er83TUfNT8w88gib1vyxnUJAQFcvSicic22fSaNVPUKjk3iawdAicibVhrbo3bTLM9k8IY1hOiagg8fvnnXw/132)",
                "sex_text":null,
                "sex":null,
                "area":"北京通州",
                "read_count":5,
                "forward_count":0,
                "stay_time":"1分10秒",
                "level":1
            },
            {
                "article_id":2,
                "uid":18,
                "user_name":"韩新颖",
                "customer_id":851,
                "customer_name":"过客丶",
                "customer_headimgurl":"[http://thirdwx.qlogo.cn/mmopen/vi_32/ibhAMcxxq5nSl2yd7mR8Zxty9ueWn22q3ibjEwIOA3VPUeldXvHSOHA0XaMgLz5oK8yrM7xneYtHsGBhXKlDhJLA/132](http://thirdwx.qlogo.cn/mmopen/vi_32/ibhAMcxxq5nSl2yd7mR8Zxty9ueWn22q3ibjEwIOA3VPUeldXvHSOHA0XaMgLz5oK8yrM7xneYtHsGBhXKlDhJLA/132)",
                "sex_text":null,
                "sex":null,
                "area":"北京朝阳",
                "read_count":5,
                "forward_count":0,
                "stay_time":"50秒",
                "level":1
            },
            {
                "article_id":2,
                "uid":18,
                "user_name":"韩新颖",
                "customer_id":850,
                "customer_name":"张聪",
                "customer_headimgurl":"[http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLbTk9yliaYgyUib6PUxBcPbMZ5Bghic7CWMVHJUJWfV360vp7EVwqe2Osj94n4HL878gVrqJ5PhnvfA/132](http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLbTk9yliaYgyUib6PUxBcPbMZ5Bghic7CWMVHJUJWfV360vp7EVwqe2Osj94n4HL878gVrqJ5PhnvfA/132)",
                "sex_text":null,
                "sex":null,
                "area":"北京丰台",
                "read_count":5,
                "forward_count":0,
                "stay_time":0,
                "level":1
            },
            {
                "article_id":2,
                "uid":18,
                "user_name":"韩新颖",
                "customer_id":885,
                "customer_name":"赵韩",
                "customer_headimgurl":"[http://thirdwx.qlogo.cn/mmopen/vi_32/KeTQWdr6uZAn6ERsjDoKv16ia7wDt0hMd3HTMjw1kvrT4QUNgPb7SGVCgyU0SgIuSQqZpXsSwxdsw55anhw3SzQ/132](http://thirdwx.qlogo.cn/mmopen/vi_32/KeTQWdr6uZAn6ERsjDoKv16ia7wDt0hMd3HTMjw1kvrT4QUNgPb7SGVCgyU0SgIuSQqZpXsSwxdsw55anhw3SzQ/132)",
                "sex_text":"男",
                "sex":1,
                "area":"河北保定",
                "read_count":10,
                "forward_count":0,
                "stay_time":0,
                "level":1
            },
            {
                "article_id":2,
                "uid":18,
                "user_name":"韩新颖",
                "customer_id":857,
                "customer_name":"西门庆豪|董庆豪|合众",
                "customer_headimgurl":"[http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSdWd7Nfgvez1cibqlptjIF83iaYOR1JbVYgh9wdYRPiaX1FDwAsgtsUHDZH2IDH0sf86K3PBicfx1Qg/132](http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSdWd7Nfgvez1cibqlptjIF83iaYOR1JbVYgh9wdYRPiaX1FDwAsgtsUHDZH2IDH0sf86K3PBicfx1Qg/132)",
                "sex_text":"男",
                "sex":1,
                "area":"北京",
                "read_count":5,
                "forward_count":0,
                "stay_time":0,
                "level":1
            }
        ],
        "article_id":"2",
        "total_customer_num":7,
        "total_read_num":45,
        "count":7
    }
}

```

#### 【 企业微信 - 1.2、我的文章 -  文章阅读-详细日志】
描述：

请求方式：GET（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/article/get_article_access_log/2?rand_str=183f64cfb5600adbd63c7a22624520a1&timestamp=1536325541376&user_id=18&customer_id=854&pid=

 

GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2,         # 雷达用户ID
         
        'customer_id': 1,   # 潜在客户的ID
        'pid' :  1          # 【必传】父级ID PS： 从1.1、我的文章 -  潜在客户】 获取PID 
         
    }
```
GET请求参数部分：
```  python
参数                                                        必填         说明
/zhugeleida/qiyeweixin/article/get_article_access_log/{id}    是           文章ID
 
```



结果返回：
``` python
{
    "code":200,
    "msg":"",
    "data":{
        "customer_id":854,
        "customer_name":"Ju do it",
        "customer_headimgurl":"[http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eplZzQgPbp8kI1uODkbThdUpbFMCnKTYSk6b3VjEkN673VKWaIicbCsRpPCfxHn2zBib1NYWXw1uibEg/132](http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eplZzQgPbp8kI1uODkbThdUpbFMCnKTYSk6b3VjEkN673VKWaIicbCsRpPCfxHn2zBib1NYWXw1uibEg/132)",
        "sex_text":null,
        "sex":null,
        "pid":null,
        "area":"河北保定",
        "ret_data":[
            {
                "article_access_log_id":15,
                "last_read_time":"2018-09-07 13:53:21",
                "stay_time":"3分10秒"
            },
            {
                "article_access_log_id":13,
                "last_read_time":"2018-09-07 13:47:07",
                "stay_time":0
            },
            {
                "article_access_log_id":10,
                "last_read_time":"2018-09-07 13:41:22",
                "stay_time":"56分40秒"
            },
            {
                "article_access_log_id":8,
                "last_read_time":"2018-09-07 13:36:41",
                "stay_time":0
            },
            {
                "article_access_log_id":3,
                "last_read_time":"2018-09-07 12:30:11",
                "stay_time":"2时28分20秒"
            },
            {
                "article_access_log_id":2,
                "last_read_time":"2018-09-07 12:27:45",
                "stay_time":0
            },
            {
                "article_access_log_id":1,
                "last_read_time":"2018-09-07 12:23:36",
                "stay_time":0
            }
        ],
        "data_count":7
    }
}
```




#### 【 企业微信 - 1.3、我的文章 -  文章转发详情】
描述：

请求方式：GET（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/article/get_article_forward_info/2?rand_str=a0c71f1b62b28bf699ed574bfb0afb9b&timestamp=1536406015199&user_id=55&customer_id=854&pid=

 

GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 55,         # 雷达用户ID
         
        'customer_id': 854,   # 潜在客户的ID
        'pid' : ''         # 【必传】父级ID PS： 从1.1、我的文章 -  潜在客户】 获取PID 
         
    }
```
GET请求参数部分：
```  python
参数                                                        必填         说明
/zhugeleida/qiyeweixin/article/get_article_access_log/{id}    是           文章ID
 
```



结果返回：
``` python
{
    "code":200,
    "msg":"",
    "data":{
        "ret_data":[
            {
                "article_id":2,
                "customer_id":854,
                "customer_name":"Ju do it",
                "customer_headimgurl":"[http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eplZzQgPbp8kI1uODkbThdUpbFMCnKTYSk6b3VjEkN673VKWaIicbCsRpPCfxHn2zBib1NYWXw1uibEg/132](http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eplZzQgPbp8kI1uODkbThdUpbFMCnKTYSk6b3VjEkN673VKWaIicbCsRpPCfxHn2zBib1NYWXw1uibEg/132)",
                "area":"河北保定",
                "sex_text":女,
                "sex": 2,
                "forward_customer_read_people":1,  # 阅读人数（一层）【转发后】 
                "forward_customer_read_num":10,    # 阅读次数【转发后】 
                "level":1,  # 层级
                "forward_friend_count":0,           #分享给朋友个数
                "forward_friend_circle_count":0,    # 分享到朋友圈的个数
                "pid":null
            }
        ],
        "data_count":1
    }
}
```



#### 1.4、   【企业微信 - 文章脉络图  - 按层级展示出客户的数据  】
      
请求方式：GET（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/article/customer_effect_ranking_by_level/2?rand_str=2f243ea45a46332e278897299d960444&timestamp=1536214808653&user_id=1&uid=1&level=1

前端逻辑描述：
    1、initData()初始化数据时, level=1，显示第一层级数据，没有第一层数据的话，展示为空数据。
    2、当level ！= 1,2,3,4,5 ... ，传到后端，展示对应的层级客户的数据，【默认分页】是每一页展示十条数据；
    


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),   #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信用户ID    【必传公共参数 】  
    
        'level' :  1   # 文章所在层级 【必传参数 】
        
        
        
    }
   

``` 

URL 传参说明：

``` python
参数                                                                      必须            说明
/zhugeleida/qiyeweixin/article/customer_effect_ranking_by_level/{{id}}     是       文章ID

```
返回结果：
``` python
{
    "code": 200,
    "msg": "返回成功",
    "data": {
        "ret_data": [{
                "id": 231, #
                "uid": 55,                 # 雷达用户ID
                "user_name": "张炬",     # 雷达用户姓名
                "customer_id": 854,         # 客户ID
                "customer_name": "Ju do it",  # 客户姓名
                "customer_headimgurl":          # 客户头像         "http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eplZzQgPbp8kI1uODkbThdUpbFMCnKTYSk6b3VjEkN673VKWaIicbCsRpPCfxHn2zBib1NYWXw1uibEg/132",
                "sex": '男',     # 客户性别, 男或者女
                "area": "河北保定",  # 客户所在地区
                "read_count": 3,    # 阅读次数
                "stay_time": "35秒",  # 停留时间
                "forward_friend_circle_count": 0, # 分享方式到朋友圈次数
                "forward_friend_count": 0,   # 分享方式给朋友的次数
                "level": 1  # 所在层级 
            },
            {
                "id": 232,
                "uid": 55,
                "user_name": "张炬",
                "customer_id": 851,
                "customer_name": "过客丶",
                "customer_headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/ibhAMcxxq5nSl2yd7mR8Zxty9ueWn22q3ibjEwIOA3VPUeldXvHSOHA0XaMgLz5oK8yrM7xneYtHsGBhXKlDhJLA/132",
                "sex": null,
                "area": "北京朝阳",
                "read_count": 1,
                "stay_time": "5秒",
                "forward_friend_circle_count": 0,
                "forward_friend_count": 0,
                "level": 1
            }
        ],
        "total_level_num": 1,      #总共的层数
        "article_id": "3",      # 文章ID
        "article_title": "合众康桥品牌大门户新闻源是如何帮助企业建立网络品牌！", # 文章标题
        "count": 2          
    }
}

``` 




#### 1.5、   【企业微信 - 文章脉络图  - 层级展示数据详情  】
      
请求方式：GET（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/article/query_customer_transmit_path/3?rand_str=f02b9d0136a85076dc13162f9216c294&timestamp=1543570784628&user_id=1&level=5&customer_id=1031


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),   #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信用户ID    【必传公共参数 】  
    
        'level' :  5         # 当前所在的层级 【必传参数 】
        'customer_id' : 1031 # 当前所在的用户ID 【必传参数 】
        
        
    }
   

``` 

URL 传参说明：

``` python
参数                                                                      必须            说明
/zhugeleida/qiyeweixin/article/query_customer_transmit_path/{{id}}     是       文章ID

```
返回结果：
说明：
level = 0 展示的是 雷达用户的ID和头像信息；

``` python
{
    "code": 200,
    "msg": "返回成功",
    "data": {
        
        'customer_id': customer_id,
        'customer_name': customer_username,  # 昵称
        'sex': sex,  # 性别
        'level': level,  # 客户所在层级

        "ret_data": [{
            "uid": 1,
            "user_name": "张炬",
            "user_avatar": "https://shp.qpic.cn/bizmp/prSBf5AvHhAV3730YB9qjpC4Uicv4pA4JBkjhgJmjzZSBB5vSC1gmrA/",
            "level": 0
        }, {
            "uid": 1,
            "user_name": "张炬",
            "customer_id": 1017,
            "customer_name": "胡帅 合众康桥新闻源 品牌营销",
            "customer_headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/8vk80v5hkowS32WtOepbYhEooEoWAxc8dYMsibDNNCRgV7E9aWv5Luic6c0aB4aSP08gQYxwicclEV6vP1axPyiarg/132",
            "level": 1
        }, {
            "uid": 1,
            "user_name": "张炬",
            "customer_id": 1021,
            "customer_name": "周影`合众负责人😘z33",
            "customer_headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/W6z3Liapd7iafFribyNWVgkVeicqg4CE9xbygyzGBDAoxnovtsbaEDNouWibRmLcRYJHicf6SXcDx5PT4FLFkaCpuhhQ/132",
            "level": 2
        }, {
            "uid": 1,
            "user_name": "张炬",
            "customer_id": 925,
            "customer_name": "半城烟雨情，",
            "customer_headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqMVQkqUpDdzic6M2VDQaaJeOh1We72y1513ibbeE9OspicVYx4vib7wvn2kC0MfJgSq1Nd1ZGOoeZRGA/132",
            "level": 3
        }, {
            "uid": 1,
            "user_name": "张炬",
            "customer_id": 1026,
            "customer_name": "郝世川@合众康桥™18811645074",
            "customer_headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/V6qIJZ32B6QGSqoHk45LFpTUW1Tlo7PM7EUb4h7K1CTD3Yib7QP5lVricTxefmhKb1wu8mnof7yX6hiaALlGFnPAw/132",
            "level": 4
        }, {
            "uid": 1,
            "user_name": "张炬",
            "customer_id": "1031",
            "customer_name": "木易༊྄ཻᏴ࿆Ꮻ࿆Ꭶ࿆Ꮥ࿆༗",
            "customer_headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqap2g8PHSvia8y0z7GSTGdsVR7FFNFdrfPa4Bk0U4OUZAXiaKKdOwbjJ5Iv42mBykG3KHzLukGmkbw/132",
            "level": "5"
        }],
        "article_id": 3
    }
}
``` 


#### 1.6、   【企业微信 - 文章脉络图  - 展示客户信息 】
      
请求方式：GET（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/article/customer_read_info/0?rand_str=f02b9d0136a85076dc13162f9216c294&timestamp=1543570784628&user_id=1&customer_id=925


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),   #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信用户ID    【必传公共参数 】  
    
        'customer_id' : 925          # 当前所在的用户ID 【必传参数 】
              
    }
   

``` 


返回结果：


``` python
{
    "code":200,
    "msg":"返回成功",
    "data":{
        "ret_data":[
            {
                "article_num":1,  # 阅读文章数量
                "article_id":3,   #文章ID
                "article_title":"合众康桥品牌大门户新闻源是如何帮助企业建立网络品牌！", #内容名
                "stay_time":"1分30秒",  #
                "read_count":4,     # 阅读次数
                "forward_count":1,  # 转发次数
                "level":[           #所在层级
                    2,
                    3,
                    4,
                    5
                ],
                "create_date":"2018-11-24 09:31:13"  #最近访问时间
            }
        ]
    }
}
``` 




####  【企业微信-雷达】 按时间展示访问日志

请求方式：GET（HTTP）
访问示例
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/action/time?user_id=1& timestamp=1528620512844&rand_str=d968b0af1cc345943d6adf8a3a6d3e0a&length=5&current_page=1

GET 请求参数部分【公共参数】
```  python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
    'id' : 1,
    'action' : 1, 
    'create_date__gte' : 2018-06-07,
    'create_date__lt' :  2018-06-14,
}
```

GET 参数说明:
```  python
参数                 必填                说明
    action            否              (1, '查看名片'),  # 查看了名片第XXX次。
                                     (2, '查看产品'),  # 查看您的产品; 查看竞价排名; 转发了竞价排名。
                                     (3, '查看动态'),  # 查看了公司的动态。 评论了您的企业动态。
                                     (4, '查看官网'),  # 查看了您的官网 , 转发了您官网。

                                     (5,  '复制微信'),
                                     (6,  '转发名片'),  #
                                     (7,  '咨询产品'),   
                                     (8,  '保存电话'),
                                     (9,  '觉得靠谱'),  #取消了对您的靠谱
                                     (10, '拨打电话'),
                                     (11, '播放语音'),
                                     (12, '复制邮箱'),
                
create_date__gte     否             开始时间
create_date__lt      否                技术时间
            
```


返回结果：
```  python
{
    "code":200,
    "msg":"查询日志记录成功",
    "data":{
        "ret_data":[
            {
                "user_id":1,
                "customer_id":2,
                "headimgurl":"statics/imgs/setAvator.jpg",
                "log":"张聪觉得靠谱",
                "create_date":"2018-06-19T10:03:29"
            },
            {
                "user_id":1,
                "customer_id":2,
                "headimgurl":"statics/imgs/setAvator.jpg",
                "log":"张聪访问了产品",
                "create_date":"2018-06-09T14:01:34"
            },
            {
                "user_id":1,
                "customer_id":2,
                "headimgurl":"statics/imgs/setAvator.jpg",
                "log":"张聪访问您的产品",
                "create_date":"2018-06-09T10:03:29"
            },
            {
                "user_id":1,
                "customer_id":1,
                "headimgurl":"statics/imgs/setAvator.jpg",
                "log":"张炬又一次访问了您的名片，他娘的。",
                "create_date":"2018-06-09T10:02:12"
            },
            {
                "user_id":1,
                "customer_id":2,
                "headimgurl":"statics/imgs/setAvator.jpg",
                "log":"张聪访问了产品",
                "create_date":"2018-06-09T10:01:34"
            }
        ],
        "data_count":36
    }
}
```

####  【企业微信-雷达】 按人头展示访问日志

请求方式：GET（HTTP）
访问示例
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/action/customer?rand_str=4b417a2c445095431b9699db4cb4f13b&timestamp=1528617092808&user_id=1&customer_id=1

GET 请求参数部分【公共参数】
```  python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
    'id' : 1,
    'create_date__gte' : 2018-06-07,
    'create_date__lt' :  2018-06-14,
}


```
GET 参数说明:
```  python
参数                 必填                说明
create_date__gte     否             开始时间
create_date__lt      否                技术时间
            
```


返回结果：
```  python
{
    "code":200,
    "msg":"查询日志记录成功",
    "data":[
        {
            "totalCount":5,
            "customer_id":1,
            "customer__username":"张炬[客户2]",
            "user_id":"1",
            "headimgurl":"statics/imgs/setAvator.jpg",
            "detail":{
                "1":{
                    "count":3,
                    "name":"查看名片"
                },
                "2":{
                    "count":1,
                    "name":"查看产品"
                },
                "3":{
                    "count":1,
                    "name":"查看动态"
                }
            }
        },
        {
            "totalCount":6,
            "customer_id":2,
            "customer__username":"张聪[客户1]",
            "user_id":"1",
            "headimgurl":"statics/imgs/setAvator.jpg",
            "detail":{
                "2":{
                    "count":3,
                    "name":"查看产品"
                },
                "3":{
                    "count":3,
                    "name":"查看动态"
                }
            }
        }
    ]
}
```




####  【企业微信-雷达】按行为统计
请求方式：GET（HTTP）
访问示例
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/action/count?rand_str=9bccf5e05cc92f994f26250c25ae2336&timestamp=1528617397112&user_id=1&customer_id=1r_id=1&customer_id=1

GET 请求参数部分【公共参数】
```  python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
    'id' : 1,
    'create_date__gte' : 2018-06-07,
    'create_date__lt' :  2018-06-14,
}
```


```
GET 参数说明:
```  python
参数                 必填                说明
create_date__gte     否             开始时间
create_date__lt      否                技术时间
            
```


返回结果：

```  python
{
    "code":200,
    "msg":"查询日志记录成功",
    "data":[
        {
            "action":{
                "1":"查看名片",
                "2":"查看产品",
                "3":"查看动态",
                "4":"查看官网",
                "5":"复制微信",
                "6":"转发名片",
                "7":"咨询产品",
                "8":"保存电话",
                "9":"觉得靠谱",
                "10":"拨打电话",
                "11":"播放语音",
                "12":"复制邮箱"
            },
            "detail":{
                "1":1,
                "2":1,
                "3":1,
                "4":1,
                "5":1,
                "6":1,
                "7":1,
                "8":1,
                "9":1,
                "12":1
            },
            "user_id":"1"
        }
    ]
}

```

####  【企业微信-雷达】统计单个人员的详细情况


请求方式：GET（HTTP）
访问示例
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/action/customer_detail?rand_str=9bccf5e05cc92f994f26250c25ae2336&timestamp=1528617397112&user_id=1&customer_id=1r_id=1&customer_id=1

GET 请求参数部分【公共参数】
```  python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'customer_id': 1,

}
```


```
GET 参数说明:
```  python
参数                 必填                说明
customer_id          是               客户ID

            
```


返回结果：

```  python
{
    "msg":"查询日志记录成功",
    "data":[
        {
            "1":{
                "totalCount":16,
                "detail":[
                    {
                        "count":8,
                        "action":1,
                        "name":"查看名片"
                    },
                    {
                        "count":7,
                        "action":2,
                        "name":"查看产品"
                    },
                    {
                        "count":1,
                        "action":9,
                        "name":"觉得靠谱"
                    }
                ],
                "customer_id":1
            }
        }
    ],
    "code":200
}

```



#### 【企业微信 - 通讯录信息】


请求方式：GET（HTTP）
访问示例
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/tongxunlu?rand_str=9b7905e5a1887cc3809e410e3847146b&timestamp=1528783998540&user_id=1


GET 请求参数部分:

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  【公共参数】
        'timestamp': timestamp,     【公共参数】
        'user_id': 1,                【公共参数】
        'customer__source': 1,
        'order' : '  customer__expedted_pr(默认的排序) | last_follow_time | last_activity_time
      
    }
```

GET请求参数部分：
```  python
参数            必填         说明
user_id         是          用户的ID
customer__source          否          搜索方式： 1 代表扫码 2 转发
order           否          排序方式:  1、customer__expedted_pr 预计成交概率  2、last_follow_time 代表最后跟进时间   3、last_activity_time 最后活动时间     

```
返回结果
``` python
{
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":[
            {
                "customer_id":1,
                "customer_username":"习大大",
                "headimgurl":"statics/imgs/setAvator.jpg",
                "expected_time":"2018-06-09",
                "expedted_pr":null,
                "belonger":"zhangcong",
                "source":1,
                "last_follow_time":"昨天",
                "last_activity_time":"昨天",
                "follow_status":"昨天已跟进"
            },
            {
                "customer_id":2,
                "customer_username":"普京",
                "headimgurl":"statics/imgs/setAvator.jpg",
                "expected_time":"2018-06-28",
                "expedted_pr":null,
                "belonger":"zhangcong",
                "source":1,
                "last_follow_time":"今天",
                "last_activity_time":"今天",
                "follow_status":"今天跟进"
            }
        ],
        "data_count":2
    }
}
```


####  【企业微信 - 分页获取-跟进常用语】

请求方式：GET（HTTP）
访问示例
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/follow_language?rand_str=716d6d211c9bd69650ef1580a8264ddd&timestamp=1528795760875&user_id=1


GET 请求参数部分:

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token), 【公共参数】
        'timestamp': timestamp,       【公共参数】
        'user_id': 1,                 【公共参数】
        'current_page': 1,
        'length':  20          
    }
```

GET 参数说明：

``` python
参数说明         必填        参数说明:
current_page     否          当前页数
length           否          每页长度20页
``` 

返回结果:

``` python
{
    "code":200,
    "msg":"",
    "data":{
        "ret_data":[

        ],
        "data_count":{
            "user_id":"1",
            "follow_language_data":[
                {
                    "language_id":11,
                    "user_id":1,
                    "language":"呵呵呵，客户让我陪他睡，"
                },
                {
                    "language_id":10,
                    "user_id":null,
                    "language":"已成交客户,维护好后续关系"
                },
                {
                    "language_id":9,
                    "user_id":null,
                    "language":"已发报价,待客户反馈"
                },
                {
                    "language_id":8,
                    "user_id":null,
                    "language":"标记一下,需要给客户发送报价"
                },
                {
                    "language_id":7,
                    "user_id":null,
                    "language":"曾拜访过的客户"
                },
                {
                    "language_id":6,
                    "user_id":null,
                    "language":"见面聊过,客户有合作意向"
                },
                {
                    "language_id":5,
                    "user_id":null,
                    "language":"意向客户,需安排拜访"
                },
                {
                    "language_id":4,
                    "user_id":null,
                    "language":"计划近期安排拜访"
                },
                {
                    "language_id":3,
                    "user_id":null,
                    "language":"标记一下,客户有合作意向"
                },
                {
                    "language_id":2,
                    "user_id":null,
                    "language":"客户查看了公司产品,有合作意向"
                },
                {
                    "language_id":1,
                    "user_id":1,
                    "language":"哈哈哈，客户是个屌丝，跟赵欣鹏一样。"
                }
            ]
        }
    }
}

```


####  【企业微信 - 添加-跟进常用语】

请求方式：POST（HTTP）
访问示例
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/follow_language/add/0?rand_str=716d6d211c9bd69650ef1580a8264ddd&timestamp=1528795760875&user_id=1

GET 请求参数【公共参数】

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 1,      
    }
```

POST 请求参数:

``` python
    {
        'custom_language': "这个客户可能是个Gay",      
    }
```

POST 请求参数说明:

```  python
参数                   必填         说明
custom_language       是           自定义常用语     
```

返回结果:

``` python
{
    "code":200,
    "msg":"添加成功",
    "data":{
        "language_id":14
    }
}

```

####  【企业微信 - 删除-跟进常用语】

请求方式：POST（HTTP）
访问示例
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/follow_language/delete/12?rand_str=716d6d211c9bd69650ef1580a8264ddd&timestamp=1528795760875&user_id=1

GET 请求参数【公共参数】

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 1,      
    }
```

返回结果:
``` python
{"code": 200, "msg": "\u5220\u9664\u6210\u529f", "data": {}}
```


####  【企业微信 - 获取-跟进客户的消息记录】

请求方式：GET（HTTP）
访问示例
>http://192.168.100.20:8000/zhugeleida/qiyeweixin/follow_info?length=10&current_page=1&rand_str=de6e73d6a0d85288e354467d01e38d1b&timestamp=1529917199838&user_id=1&customer_id=1

GET 请求参数【公共参数】

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 1,
        'customer_id' :1      
    }
```



返回结果:

``` python
{
    "code":200,
    "msg":"",
    "data":{
        "ret_data":[
            {
                "user_customer_flowup__customer__headimgurl":"statics/imgs/setAvator.jpg",
                "user_customer_flowup__user__avatar":"statics/imgs/setAvator.jpg",
                "user_customer_flowup__user__username":"zhangcong",
                "user_customer_flowup__user_id":1,
                "user_customer_flowup__customer_id":1,
                "follow_info":"这个客户我惹不起！！！！",
                "create_date":"2018-06-12T21:52:31.456"
            },
            {
                "user_customer_flowup__customer__headimgurl":"statics/imgs/setAvator.jpg",
                "user_customer_flowup__user__avatar":"statics/imgs/setAvator.jpg",
                "user_customer_flowup__user__username":"zhangcong",
                "user_customer_flowup__user_id":1,
                "user_customer_flowup__customer_id":1,
                "follow_info":"客户想睡我！！！！",
                "create_date":"2018-06-12T21:52:31.456"
            },
            {
                "user_customer_flowup__customer__headimgurl":"statics/imgs/setAvator.jpg",
                "user_customer_flowup__user__avatar":"statics/imgs/setAvator.jpg",
                "user_customer_flowup__user__username":"zhangcong",
                "user_customer_flowup__user_id":1,
                "user_customer_flowup__customer_id":1,
                "follow_info":"我想去拜访他！！！！",
                "create_date":"2018-06-12T21:52:31.456"
            },
            {
                "user_customer_flowup__customer__headimgurl":"statics/imgs/setAvator.jpg",
                "user_customer_flowup__user__avatar":"statics/imgs/setAvator.jpg",
                "user_customer_flowup__user__username":"zhangcong",
                "user_customer_flowup__user_id":1,
                "user_customer_flowup__customer_id":1,
                "follow_info":"这个客户真傻逼！！！！",
                "create_date":"2018-06-12T22:14:21.399"
            }
        ],
        "data_count":4
    }
}

```

####  【企业微信 - 添加发送-客户跟进消息记录】

请求方式：POST（HTTP）
访问示例
>http://192.168.100.20:8000/zhugeleida/qiyeweixin/follow_info/add/1?rand_str=9bea83ae04fe4842e7bf8e2ad0cf7b66&timestamp=1530181948579&user_id=1

GET 请求参数【公共参数】

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 1,
     
    }
```

POST 请求参数：
``` python
    {
        'follow_info': '这个客户不好惹呢。',
     
    }
```


URL 传参说明

```  python
参数                                              必填         说明
/zhugeleida/qiyeweixin/follow_info/add/{{o_id}}    是       代表跟进的客户ID

```

返回结果:

``` python
{
    "code":200,
    "msg":"添加成功",
    "data":{

    }
}

```


####    【企业微信 - 修改-客户预计成交时间】

请求方式：POST（HTTP）
访问示例
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/customer/update_expected_time/1?rand_str=a9d35cb5e7fcd82f2dfc15f9f24c245b&timestamp=1528858666902&user_id=1

GET 请求参数【公共参数】

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 1,
       
    }
```
POST 请求参数说明:
``` python
    {
        'expected_time': '2018-06-14',
    }
```

URL 参数说明:

``` python
参数：      必填      说明
o_id       是       /zhugeleida/qiyeweixin/customer/update_expected_time/{{ o_id}}  o_id 操作的是 customer_id
```


####   【企业微信 - 修改-客户预计成交率】

请求方式：POST（HTTP）
访问示例
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/customer/update_expected_pr/1?rand_str=a9d35cb5e7fcd82f2dfc15f9f24c245b&timestamp=1528858666902&user_id=1

GET 请求参数【公共参数】

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 1,
       
    }
```

POST 请求参数说明:
``` python
    {
        'update_expected_pr': '80%',
    }
```



URL参数说明:

``` python
参数：      必填      说明
o_id       是      /zhugeleida/qiyeweixin/customer/update_expected_pr/{{ o_id}} o_id 指的的是 customer_id
```



####    【企业微信 - 名片里-查询企业微信用户的标签】

请求方式：GET（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/tag_user?rand_str=a932b4ac5620edafa2822755a93974bc&timestamp=1529565105630&user_id=2 


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2,   # 企业微信的用户ID
       
    }
```


GET参数必要说明:

``` python
参数：      必填      参数说明
user_id      是       企业微信-用户ID     

```

返回结果 ：

``` python
    {
        "code":200,
        "msg":"",
        "data":{
            "user_id":"2",
            "ret_data":[
                {
                    "id":1,
                    "name":"有志青年"
                },
                {
                    "id":2,
                    "name":"靠谱人士"
                }
            ],
            "data_count":2
        }
    }
```


####    【企业微信 - 名片里-新增用户标签】


请求方式：POST（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/tag_user/add?rand_str=5b199e75f45bcc94c0c4e46e20c0efdb&timestamp=1529569831934&user_id=2


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2,   # 企业微信的用户ID
       
    }
```


GET参数必要说明:

``` python
参数：      必填      参数说明
user_id      是       企业微信-用户ID     

```

POST 请求参数

``` python
    {
     "name" : "积极少年"
       
    }
```

POST参数必要说明:

``` python
参数：      必填      参数说明
name        是        标签名     

```

返回结果 ：

``` python
    {
        "code":200,
        "msg":"添加成功",
        "data":[
            {
                "id":3,
                "name":"积极少年"
            }
        ]
    }
```



####    【企业微信 - 名片里-保存所有的用户标签】


请求方式：POST（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/tag_user/save?rand_str=5b199e75f45bcc94c0c4e46e20c0efdb&timestamp=1529569831934&user_id=2


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2,   # 企业微信的用户ID
       
    }
```


GET参数必要说明:

``` python
参数：      必填      参数说明
user_id      是       企业微信-用户ID     

```

POST 请求参数

``` python
    {
     "tag_list" : '[1,2,3]'
       
    }
```

POST参数必要说明:

``` python
参数：          必填      参数说明
tag_list        是        [标签id,标签id2,标签id3....]     

```

返回结果 ：

``` python
    {
        "code":200,
        "msg":"添加成功",
        "data":[
           
        ]
    }
```

####    【企业微信 - 名片里-删除用户标签】


请求方式：POST（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/tag_user/delete?rand_str=5b199e75f45bcc94c0c4e46e20c0efdb&timestamp=1529569831934&user_id=2


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2,   # 企业微信的用户ID
       
    }
```


GET参数必要说明:

``` python
参数：       必填      参数说明
user_id      是       企业微信-用户ID     

```

POST 请求参数

``` python
    {
     "id" : 3
       
    }
```

POST参数必要说明:

``` python
参数：      必填      参数说明
id          是        标签id   

```

返回结果 ：

``` python
    {
        "code":200,
        "msg":"删除成功",
        "data":{

        }
    }
```


####    【企业微信 - 名片里-意见反馈接口】


请求方式：POST（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/mingpian/feedback?rand_str=5b199e75f45bcc94c0c4e46e20c0efdb&timestamp=1529569831934&user_id=2


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2,   # 企业微信的用户ID
       
    }
```


GET参数必要说明:

``` python
参数：      必填      参数说明
user_id      是       企业微信-用户ID     

```

POST 请求参数

``` python
    {
     'problem_type' : 1 | 2 | 3 , # (1,'客户服务'), (2,'功能异常'), (3,'产品建议')
     'content' :  
   [
      {
        "type": "phone",
        "data": "13020006631"
      },
      {
        "type": "picture_url",
        "data":  ["statics/zhugeleida/imgs/xiaochengxu/website/Content_1.png",
            "statics/zhugeleida/imgs/xiaochengxu/website/Content_2.png"
         ]
      },
      {
        "type": "content",
        "data": "孙贼，用户体验不够好，请你们费心优化"
      }
   ]  
}
```

POST参数必要说明:

``` python
参数：        必填      参数说明
problem_type  是      # (1,'客户服务'), (2,'功能异常'), (3,'产品建议')  
content       是      内容
```

返回结果 ：

``` python
    {
        "code":200,
        "msg":"添加成功",
        
    }
```




####    【企业微信 - 名片里-展示用户具体信息 】


请求方式：GET（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/mingpian?rand_str=2737f2c39f8e559314108ca8af164a50&timestamp=1530419464372&user_id=1

GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 1,                  #企业微信的用户ID
       
    }
```


GET参数必要说明:

``` python
参数：      必填      参数说明
user_id      是       企业微信-用户ID     

```


返回结果 ：

``` python
   {
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":[
            {
                "id":1,
                "username":"张聪",
                "avatar":"statics/imgs/setAvator.jpg",
                "company":"北京合众多屏科技发展有限公司",
                "area":"北京市 北京 通州区",
                "address":"东四十条",
                "position":"技术经理",
                "telephone":"159317889741",
                "email":"12133@qq.com",
                "country":"国内",
                "wechat":"159317889741",
                "wechat_phone":"",
                "is_show_phone":true,
                "mingpian_phone":"15931788975",
                "sign":"一生所爱~~~",
                "photo":[
                    [
                        1,
                        "xxxxx"
                    ],
                    [
                        4,
                        "statics/zhugeleida/imgs/xiaochengxu/qr_code/4_uemthqpcdn_photo.jpg"
                    ],
                    [
                        5,
                        "statics/zhugeleida/imgs/xiaochengxu/qr_code/5_uemthqpcdn_photo.jpg"
                    ]
                ],
                "tag":[
                    {
                        "id":1,
                        "name":"有痔青年"
                    },
                    {
                        "id":2,
                        "name":"靠谱人士"
                    },
                    {
                        "id":6,
                        "name":"风流人物"
                    },
                    {
                        "id":7,
                        "name":"浪的难受"
                    }
                ],
                "create_date":"2018-06-07T19:47:43"
            }
        ],
        "data_count":1
    }
}
```




####    【企业微信 - 名片里-修改并保存手机号】


请求方式：POST（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/mingpian/save_phone?rand_str=0d426ac0c58a28be0af3d726bcfa5234&timestamp=1529651748322&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 2,     #企业微信的用户ID
       
    }
```


GET参数必要说明:

``` python
参数：      必填      参数说明
user_id      是       企业微信-用户ID     

```

POST 请求参数

``` python
    {
     "mingpian_phone" : 15931788977
     "is_show_phone" : False   
    }
```

POST参数必要说明:

``` python
参数：             必填      参数说明
mingpian_phone      是       名片中显示的手机号
is_show_phone       是       名片中是否显示手机号。True 是可显示。False 是不显示

```

返回结果 ：

``` python
    {
        "code":200,
        "msg":"保存成功",
        "data":{

        }
    }
```


####    【企业微信 - 名片里-修改并保存个人信息】


请求方式：POST（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/mingpian/save_info?rand_str=0d426ac0c58a28be0af3d726bcfa5234&timestamp=1529651748322&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 1,                  #企业微信的用户ID
       
    }
```


GET参数必要说明:

``` python
参数：      必填      参数说明
user_id      是       企业微信-用户ID     

```

POST 请求参数

``` python
    {
     "wechat" : "just so so",
     "mingpian_phone" : 15931788975,
     "telephone" : (010-4321095),
     "email" : '12133@qq.com',
     "country" : 1 | 2 ,
     "area" :   "北京市 北京 通州区 "
     "address" : "新华西街 北京ONE写字楼2303"
    }
```

POST参数必要说明:

``` python
参数：             必填      参数说明
mingpian_phone      是       名片中显示的手机号
telephone           否       座机号
email               否       邮箱号
country             否       1代表国内，2代表国外
area                否       公司所在省份和城市
address             否       详细地址

```

返回结果 ：

``` python
    {
        "code":200,
        "msg":"保存成功",
        "data":{

        }
    }
```



####    【企业微信 - 名片里-添加\修改个人签名】


请求方式：POST（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/mingpian/save_sign?rand_str=0d426ac0c58a28be0af3d726bcfa5234&timestamp=1529651748322&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 1,                  #企业微信的用户ID
       
    }
```


GET参数必要说明:

``` python
参数：      必填      参数说明
user_id      是       企业微信-用户ID     

```

POST 请求参数

``` python
    {
     "sign" : "一生所爱~~",
   
    }
```

POST参数必要说明:

``` python
参数：             必填      参数说明
sign               否       个性签名
```

返回结果 ：

``` python
    {
        "code":200,
        "msg":"保存成功",
        "data":{

        }
    }
```


####  【企业微信  - 名片 - 手动生成企业用户的小程序二维码 】
描述： 手动生成用户 小程序二维码
请求方式：POST（HTTP）
请求示例：
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/create_small_program_qr_code?rand_str=0917f8c6251024f45f84ef0dad9f99b2&timestamp=1535436467533&user_id=1

GET 请求发送数据部分：

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}

``` 




返回结果：

{
    "code":200,
    "msg":"生成用户二维码成功",
    "data":{
        "qr_code":"statics/zhugeleida/imgs/xiaochengxu/qr_code/73_20180828_133844_qrcode.jpg"
    }
}






####    【企业微信 - 名片里-显示所有的照片 】


请求方式：GET（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/mingpian/show_photo?rand_str=207e8db43d1fadee295a8c7e88c31bfa&timestamp=1529657333192&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),
        'timestamp': timestamp,
        'user_id': 1,                  #企业微信的用户ID
       
    }
```


GET参数必要说明:

``` python
参数：      必填      参数说明
user_id      是       企业微信-用户ID     

```


返回结果 ：

``` python
    {
    "code":200,
    "msg":"获取成功",
    "data":{
        "ret_data":[
           
            {
                "id":4,
                "photo_url":"statics/zhugeleida/imgs/xiaochengxu/qr_code/4_uemthqpcdn_photo.jpg"
            },
            {
                "id":5,
                "photo_url":"statics/zhugeleida/imgs/xiaochengxu/qr_code/5_uemthqpcdn_photo.jpg"
            }
        ],
        "user_id":"1"
    }
}
```


####     【企业微信 - 通用的-上传图片 】

描述： 通用接口用于上传【用户名片照片】和 【用户名片头像】

请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/public/img_upload?rand_str=5b4243dea5d3e44cc594af7a11b9999b&timestamp=1530156149132&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信 用户ID        必传公共参数   
    }
   
```

POST 参数必要说明:

``` python
参数：       必填       参数说明
img_name     是         文件名
img_data     是          文件内容
chunk        是         获取该分片在所有分片中的序号
timestamp    是         获取文件唯一标识【即时间戳】
img_source   是         user_photo 代表用户上传的照片  user_avatar 代表用户的头像

```

POST 请求参数:
``` python
    {
        'img_name': xxxx.jpg, 
        'img_data' : 'dfadcvtyhmnsfwqopnvlaijkytuangl....'
        'chunk' : 1 ,  # 获取该分片在所有分片中的序号
        'timestamp': timestamp,          #  获取文件唯一标识【即时间戳】
        'img_source' : 'user_photo' |  'user_avatar' #  user_photo 代表用户上传的照片  user_avatar 代表用户的头像
    }
   
```


等分片文件全部传输完毕后，在调用一个接口：
请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/public/img_merge?rand_str=0d426ac0c58a28be0af3d726bcfa5234&timestamp=1529651748322&user_id=1

GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的用户ID        必传公共参数   
        
    }
   
```

POST 参数-说明：
``` python
参数：       必填       参数说明
img_name     是         文件名
timestamp    是         获取文件唯一标识【即时间戳】
chunk_num    是         一共多少份

img_source   是     user_photo 代表用户上传的照片  user_avatar 代表用户的头像。
```

POST 请求参数:
``` python
    {
        'img_name': xxxx.jpg, 
        'timestamp': timestamp,          #  获取文件唯一标识【即时间戳】
        'chunk_num' : 5,       # 一共多少个切片    
        'img_source' : 'user_photo' |  'user_avatar' #  user_photo 代表用户上传的照片  user_avatar 代表用户的头像
    }
   
```


返回结果 ：

``` python
{
    "code":200,
    "msg":"添加图片成功",
    "data":{
        "ret_data":{
            "picture_url":"statics/zhugeleida/imgs/qiyeweixin/product/20180628140645880613.jpg"
        }
    }
}
```



####    【企业微信 - 名片里 - 删除上传的照片】

请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/mingpian/delete_photo?rand_str=9ce37074ee7a7481b0817f59d20355b4&timestamp=1530189036534&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
        
    }
   
```


POST 参数必要说明:

``` python
参数：       必填       参数说明

photo_id     是         照片的ID

```


返回结果 ：

``` python
{
    "code":200,
    "msg":"删除成功",
    "data":{

    }
}
```





####    【企业微信 - 产品里 - 查看单个产品】

请求方式：GET（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/product/product_single/?rand_str=e041514dcedc2351170cf0f74356317f&timestamp=1530064749166&user_id=1&product_id=22


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信用户ID    【必传公共参数 】  
        'product_id': 22,                # 产品的ID  
    }
   
```


GET参数必要说明:

``` python
参数：      必填       参数说明
user_id     是         企业微信-所属用户ID    
product_id  是         产品的ID

```


返回结果 ：

``` python
 {
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":[
            {
                "id":10,
                "publisher":"我添加的",
                "publisher_date":"2018-07-21T11:24:03.761",
                "name":"门票2",
                "price":"128",
                "user_avatar":"statics\zhugeleida\imgs\qiyeweixin\user_avatar\1531828674331.jpg",
                "reason":"有理想-不讲究",
                "content":{
                    "cover_data":[
                        {
                            "type":"picture_url",
                            "data":[
                                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_1.png",
                                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_2.png"
                            ]
                        }
                    ],
                    "article_data":[
                        {
                            "type":"title",
                            "data":[
                                "xx我是标题1"
                            ]
                        },
                        {
                            "type":"picture_url",
                            "data":[
                                "statics/zhugeleida/imgs/xiaochengxu/website/Content_1.png"
                            ]
                        },
                        {
                            "type":"content",
                            "data":[
                                "我是内容1"
                            ]
                        },
                        {
                            "type":"picture_url",
                            "data":[
                                "statics/zhugeleida/imgs/xiaochengxu/website/Content_2.png"
                            ]
                        },
                        {
                            "type":"title",
                            "data":[
                                "我是标题2"
                            ]
                        },
                        {
                            "type":"content",
                            "data":[
                                "我是内容1"
                            ]
                        },
                        {
                            "type":"picture_url",
                            "data":[
                                "statics/zhugeleida/imgs/xiaochengxu/website/Content_3.png"
                            ]
                        },
                        {
                            "type":"content",
                            "data":[
                                "我是内容3"
                            ]
                        },
                        {
                            "type":"picture_url",
                            "data":[
                                "statics/zhugeleida/imgs/xiaochengxu/website/Content_4.png"
                            ]
                        }
                    ]
                },
                "create_date":"2018-07-21",
                "status":"已发布",
                "status_code":1
            }
        ],
        "data_count":1
    }
}

```



####    【企业微信 - 产品里 - 查看所有产品】

请求方式：GET（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/product/product_list/?rand_str=925c14b4bf0f3c473dbca8a77fd0416e&timestamp=1530105370433&user_id=1

GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,          #必传公共参数  
        'user_id': 1,                    #小程序的用户ID    【必传公共参数 】
        'product_id': 22,                # 产品的ID  
        'status_code':  1 | 2 | 3            # 产品的状态：1、代表已发布 2、代表已下架 3、推荐产品
    }
   
```


GET参数必要说明:

``` python
参数：      必填           参数说明
user_id     是              企业微信-所属用户ID     
product_id  是              产品的ID
status_code      否（搜索参数）   产品的状态：1、代表已发布 2、代表已下架 3、推荐产品
```


返回结果 ：

``` python
{
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":[
            {
                "id":10,
                "name":"门票2",
                "publisher":"我添加的",
                "price":"128",
                "publisher_date":"2018-07-21T11:24:03.761",
                "content":{
                    "cover_data":[
                        {
                            "type":"picture_url",
                            "data":[
                                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_1.png",
                                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_2.png"
                            ]
                        }
                    ]
                },
                "create_date":"2018-07-21",
                "status":"已发布",
                "status_code":1
            },
            {
                "id":3,
                "name":"2018世界女排联赛入场票0.0",
                "publisher":"企业发布",
                "price":"50-1380元0.0",
                "publisher_date":"2018-06-28T10:15:14.644",
                "content":{
                    "cover_data":[
                        {
                            "type":"picture_url",
                            "data":[
                                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_1.png",
                                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_2.png"
                            ]
                        }
                    ]
                },
                "create_date":"2018-06-28",
                "status":"推荐",
                "status_code":3
            },
            {
                "id":2,
                "name":"2018国际男篮对抗赛连云港 中国VS斯洛文尼亚",
                "publisher":"企业发布",
                "price":"280-1280",
                "publisher_date":"2018-06-26T14:08:44.480",
                "content":{
                    "cover_data":[
                        {
                            "type":"picture_url",
                            "data":[
                                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_1.png",
                                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_2.png"
                            ]
                        }
                    ]
                },
                "create_date":"2018-06-26",
                "status":"已下架",
                "status_code":2
            }
         
}
```



####    【企业微信 - 产品里-增加产品】

请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/product/add/0?rand_str=4ccdd564881d7aa3e8b1532859020bee&timestamp=1530152114630&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信用户ID    【必传公共参数 】   
    }
   
```


GET参数必要说明:

``` python
参数：       必填       参数说明
uid         是         企业微信-所属用户ID    
product_id  是         产品的ID

```

POST 请求参数

``` python
    {
        'name': '门票',     #产品名称
        'price': 228,      #产品价格
        'reason': '一起度过美好时光!!',    #推荐理由  
        'content' :  
 {
    "cover_data":[
        {
            "type":"picture_url",
            "data":[
                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_1.png",
                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_2.png"
            ]
        }
    ],
    "article_data":[
        {
            "type":"title",
            "data":[
                "xx我是标题1"
            ]
        },
        {
            "type":"picture_url",
            "data":[
                "statics/zhugeleida/imgs/xiaochengxu/website/Content_1.png"
            ]
        },
        {
            "type":"content",
            "data":[
                "我是内容1"
            ]
        },
        {
            "type":"picture_url",
            "data":[
                "statics/zhugeleida/imgs/xiaochengxu/website/Content_2.png"
            ]
        },
        {
            "type":"title",
            "data":[
                "我是标题2"
            ]
        },
        {
            "type":"content",
            "data":[
                "我是内容1"
            ]
        },
        {
            "type":"picture_url",
            "data":[
                "statics/zhugeleida/imgs/xiaochengxu/website/Content_3.png"
            ]
        },
        {
            "type":"content",
            "data":[
                "我是内容3"
            ]
        },
        {
            "type":"picture_url",
            "data":[
                "statics/zhugeleida/imgs/xiaochengxu/website/Content_4.png"
              ]
        }
       ]
   }
        
}
    
   
```

POST参数说明：

``` python
参数：            必填       参数说明
name              是         #产品名称
price             是         #产品价格
reason            是         #推荐理由  
content           否         #产品封面和文章的内容

```

返回结果 ：

``` python
{
    "code":200,
    "msg":"添加成功",
    "data":{

    }
}
```



####    【企业微信 - 产品里-修改产品】

请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/product/update/23?rand_str=60291413673753dfcda074cf87e3a091&timestamp=1530154842788&user_id=1


GET 请求数据：

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                                     #企业微信用户ID    【必传公共参数 】   
    }
   
```


GET参数说明:

``` python
参数：       必填       参数说明
user_id     是         企业微信-所属用户ID    
product_id  是         产品的ID

```
URL 传参说明:

``` python
参数：                                            必填       参数说明
/zhugeleida/qiyeweixin/product/update/{{ o_id}}  是        #代表要修改的产品ID 

```


POST 请求参数

``` python
      {
        'name': '门票',     #产品名称
        'price': 228,      #产品价格
        'reason': '一起度过美好时光!!',    #推荐理由  
        'content' :  
 {
    "cover_data":[
        {
            "type":"picture_url",
            "data":[
                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_1.png",
                "statics/zhugeleida/imgs/xiaochengxu/website/Website_scroll_2.png"
            ]
        }
    ],
    "article_data":[
        {
            "type":"title",
            "data":[
                "xx我是标题1"
            ]
        },
        {
            "type":"picture_url",
            "data":[
                "statics/zhugeleida/imgs/xiaochengxu/website/Content_1.png"
            ]
        },
        {
            "type":"content",
            "data":[
                "我是内容1"
            ]
        },
        {
            "type":"picture_url",
            "data":[
                "statics/zhugeleida/imgs/xiaochengxu/website/Content_2.png"
            ]
        },
        {
            "type":"title",
            "data":[
                "我是标题2"
            ]
        },
        {
            "type":"content",
            "data":[
                "我是内容1"
            ]
        },
        {
            "type":"picture_url",
            "data":[
                "statics/zhugeleida/imgs/xiaochengxu/website/Content_3.png"
            ]
        },
        {
            "type":"content",
            "data":[
                "我是内容3"
            ]
        },
        {
            "type":"picture_url",
            "data":[
                "statics/zhugeleida/imgs/xiaochengxu/website/Content_4.png"
              ]
        }
       ]
   }
        
}
   
```

POST参数说明：

``` python
参数：            必填       参数说明
name              是         产品名称
price             是         产品价格
reason            是         推荐理由  

content           是         产品封面和文章的内容

```

返回结果 ：

``` python
{
    "code":200,
    "msg":"添加成功",
    "data":{

    }
}
```



####    【企业微信 - 产品里-删除单个产品图文介绍里的标题或者内容】 【弃用】

请求方式：GET（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/product/delete_article/1?rand_str=5b4243dea5d3e44cc594af7a11b9999b&timestamp=1530156149132&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信用户ID      【必传公共参数 】   
        'product_id': 11,                # 产品的ID  
    }
   
```


GET参数必要说明:

``` python
参数：       必填       参数说明
user_id      是         企业微信用户ID 
product_id   是         产品的ID

```

URL 传参说明:

``` python
参数：                                                必填       参数说明
/zhugeleida/qiyeweixin/product/delete_article/{o_id}  是        代表要删除的 article_id   

```


返回结果 ：

``` python
{
    "code":200,
    "msg":"删除文章字段成功",
    "data":{

    }
}
```

####    【企业微信 - 产品里-增加单个产品里的图片（封面图片或产品介绍图片）】

请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/product/add_picture/0?rand_str=5b4243dea5d3e44cc594af7a11b9999b&timestamp=1530156149132&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信 用户ID        必传公共参数   
    }
   
```

GET参数必要说明:

``` python
参数：       必填       参数说明
img_name     是         文件名
timestamp    是         获取文件唯一标识【即时间戳】
chunk        是         获取该分片在所有分片中的序号
```

等分片文件全部传输完毕后，在调用一个接口：
请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/product/upload_complete/0?rand_str=0d426ac0c58a28be0af3d726bcfa5234&timestamp=1529651748322&user_id=1

GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的用户ID        必传公共参数   
        
    }
   
```

GET 参数-说明：
``` python
参数：       必填       参数说明
img_name     是         文件名
timestamp    是         获取文件唯一标识【即时间戳】
chunk_num    是         一共多少份
picture_type 是        图片的类型  (1, '产品封面的图片'), (2, '产品介绍的图片')
```

返回结果 ：

``` python
{
    "code":200,
    "msg":"添加图片成功",
    "data":{
        "ret_data":{
            "picture_id":20,   #新添加的图片ID  
            "picture_url":"statics/zhugeleida/imgs/qiyeweixin/product/20180628140645880613.jpg" ##新添加的图片URL   
        }
    }
}
```




####    【企业微信 - 产品里-删除单个产品里的图片（封面图片或产品介绍图片）】 【弃用接口】

请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/product/delete_picture/25?rand_str=c98467a56cbc816ac38f7e2a1db541a0&timestamp=1530190936262&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
        
    }
   
```


GET参数必要说明:

``` python
参数：       必填       参数说明
user_id      是         企业微信的 用户ID


```


POST 参数必要说明:

``` python
参数：       必填       参数说明
product_id   是         产品的ID


```


URL 传参说明:

``` python
参数：                                                必填       参数说明
/zhugeleida/qiyeweixin/product/delete_picture/{o_id}  是        代表要删除的 picture_id 图片ID   

```


返回结果 ：

``` python
{
    "code":200,
    "msg":"删除成功",
    "data":{

    }
}
```



####    【企业微信 - 产品里-发布、下架、推荐产品】

请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/product/change_status/10?rand_str=aee483a62a61b0670fb6f2e47b41a4ef&timestamp=1530168762605&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
    
    }
   
```

POST请求参数

``` python
    {
    'status' : 1 |  2 | 3 ， # (1,'已发布'), (2,'已下架'), (3,'推荐') 修改产品状态
    
    }
   
```


GET参数必要说明:

``` python
参数：       必填       参数说明
user_id      是        企业微信的用户ID  
```

URL 传参说明:

``` python
参数：                                                 必填       参数说明
/zhugeleida/qiyeweixin/product/change_status/{o_id}    是        代表要修改状态的产品ID   

```


返回结果 ：

``` python
{
    "code":200,
    "msg":"修改下架状态成功",
    "data":{
        "product_id":10,
        "status":"已下架",
        "status_code":2
    }
}
```



####    【企业微信 - 产品里-删除产品】

请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/qiyeweixin/product/delete/10?rand_str=211a4a8caf355cc7089df36bb49da032&timestamp=1530175893495&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
    }
   
```


GET参数必要说明:

``` python
参数：       必填       参数说明
user_id      是        企业微信的用户ID  
```

URL 传参说明:

``` python
参数：                                           必填       参数说明
/zhugeleida/qiyeweixin/product/delete/{o_id}    是      代表要修改为 删除的产品ID   

```


返回结果 ：

``` python
{
    "code":200,
    "msg":"删除成功",
    "data":{

    }
}

```



####    【企业微信 - 1.1、Boss雷达 - 总览数据】
描述：包括汇总、昨日、近七天、近30天数据汇总展示。

请求方式：GET（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/boosleida/home_page/acount_data?rand_str=4f1192bccd81b4055f70ca0da4e0ce3d&timestamp=1536724637768&user_id=1

/zhugeleida/boosleida/home_page/line_info?rand_str=638c5591dfaa8e1cff308664383c6aec&timestamp=1536724853930&user_id=1
GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
    }
   
```





返回结果 ：

``` python
{
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":{
            "count_data":{
                "customer_num":36, #客户总数
                "browse_num":51,   # 浏览数量
                "follow_num":0,    # 跟进数量
                "comm_num_of_customer":0,  # 沟通总客户数
                "forward_num":51,     #被转发数量
                "saved_total_num":0,  #被保存次数
                "praise_num":51,      #被点赞次数
                "query_product_num":0,  # 查询产品次数
                "view_website_num":0     # 查询 官网总数
            },
            "yesterday_data":{
                "customer_num":0,
                "browse_num":0,
                "follow_num":0,
                "comm_num_of_customer":0,
                "forward_num":0,
                "saved_total_num":0,
                "praise_num":0,
                "query_product_num":0,
                "view_website_num":0
            },
            "nearly_seven_days":{
                "customer_num":4,
                "browse_num":0,
                "follow_num":0,
                "comm_num_of_customer":0,
                "forward_num":0,
                "saved_total_num":0,
                "praise_num":0,
                "query_product_num":0,
                "view_website_num":0
            },
            "nearly_thirty_days":{
                "customer_num":31,
                "browse_num":4,
                "follow_num":0,
                "comm_num_of_customer":0,
                "forward_num":4,
                "saved_total_num":0,
                "praise_num":4,
                "query_product_num":0,
                "view_website_num":0
            }
        }
    }
}
```



####    【企业微信 - 1.2、Boss雷达 - 统计客户数据】
描述：包括近7天、近15天、近30天数据汇总展示。

请求方式：GET（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/boosleida/home_page/line_info?rand_str=638c5591dfaa8e1cff308664383c6aec&timestamp=1536724853930&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
    }
   
```

参数返回说明：
 ``` python
 "index_type_1": # 新增客户总数
         {
          "nearly_seven_days": # 近七天
          "nearly_fifteen_days":# 近十五天
          "nearly_thirty_days":  #近30天
        },
 "index_type_2": # 咨询客户总数 
 "index_type_3": # 跟进客户总数

 "index_type_4": # 近15日客户活跃度
     {
        "nearly_fifteen_days": 近15日客户活跃度数据  # 
    },
 
"index_type_5": # 客户与我的互动
     {
      "praise_num":51,  #点赞
      "query_product_num":0, #咨询
       "forward_mingpian_num":51, #添加印象
      "call_phone_num":0,        #拨打电话
       "saved_phone_num":0        #保存电话
     },
            
 "index_type_6": # 客户兴趣占比
     {
         "view_mingpian":"100.00",  # 对我的兴趣
      "     view_product_num":"0.00", # 对产品感兴趣
         "view_website_num":"0.00"  # 对公司感兴趣
     }
```


返回结果 ：

``` python
{
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":{
            "index_type_1":{
                "nearly_seven_days":[
                    {
                        "statics_date":"2018-09-05",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-06",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-07",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-08",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-09",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-10",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-11",
                        "value":0
                    }
                ],
                "nearly_fifteen_days":[
                    {
                        "statics_date":"2018-08-28",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-29",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-30",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-31",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-01",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-02",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-03",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-04",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-05",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-06",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-07",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-08",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-09",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-10",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-11",
                        "value":0
                    }
                ],
                "nearly_thirty_days":[
                    {
                        "statics_date":"2018-08-13",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-14",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-15",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-16",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-17",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-18",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-19",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-20",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-21",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-22",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-23",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-24",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-25",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-26",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-27",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-28",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-29",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-30",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-31",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-01",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-02",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-03",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-04",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-05",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-06",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-07",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-08",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-09",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-10",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-11",
                        "value":0
                    }
                ]
            },
            "index_type_2":{
                "nearly_seven_days":[
                    {
                        "statics_date":"2018-09-05",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-06",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-07",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-08",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-09",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-10",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-11",
                        "value":0
                    }
                ],
                "nearly_fifteen_days":[
                    {
                        "statics_date":"2018-08-28",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-29",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-30",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-31",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-01",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-02",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-03",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-04",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-05",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-06",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-07",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-08",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-09",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-10",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-11",
                        "value":0
                    }
                ],
                "nearly_thirty_days":[
                    {
                        "statics_date":"2018-08-13",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-14",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-15",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-16",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-17",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-18",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-19",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-20",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-21",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-22",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-23",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-24",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-25",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-26",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-27",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-28",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-29",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-30",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-31",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-01",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-02",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-03",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-04",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-05",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-06",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-07",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-08",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-09",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-10",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-11",
                        "value":0
                    }
                ]
            },
            "index_type_3":{
                "nearly_seven_days":[
                    {
                        "statics_date":"2018-09-05",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-06",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-07",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-08",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-09",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-10",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-11",
                        "value":0
                    }
                ],
                "nearly_fifteen_days":[
                    {
                        "statics_date":"2018-08-28",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-29",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-30",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-31",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-01",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-02",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-03",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-04",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-05",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-06",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-07",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-08",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-09",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-10",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-11",
                        "value":0
                    }
                ],
                "nearly_thirty_days":[
                    {
                        "statics_date":"2018-08-13",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-14",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-15",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-16",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-17",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-18",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-19",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-20",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-21",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-22",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-23",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-24",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-25",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-26",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-27",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-28",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-29",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-30",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-31",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-01",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-02",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-03",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-04",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-05",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-06",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-07",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-08",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-09",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-10",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-11",
                        "value":0
                    }
                ]
            },
            "index_type_4":{
                "nearly_fifteen_days":[
                    {
                        "statics_date":"2018-08-28",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-29",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-30",
                        "value":0
                    },
                    {
                        "statics_date":"2018-08-31",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-01",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-02",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-03",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-04",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-05",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-06",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-07",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-08",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-09",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-10",
                        "value":0
                    },
                    {
                        "statics_date":"2018-09-11",
                        "value":0
                    }
                ]
            },
            "index_type_5":{
                "praise_num":51,
                "query_product_num":0,
                "forward_mingpian_num":51,
                "call_phone_num":0,
                "saved_phone_num":0
            },
            "index_type_6":{
                "view_mingpian":"100.00",
                "view_product_num":"0.00",
                "view_website_num":"0.00"
            }
        }
    }
}
```




####    【企业微信 - 1.3、Boss雷达 - 销售排行- 按客户人数 】
描述：包括 客户总数 + 昨日、近7天、近15天、近30天数据汇总展示。

请求方式：GET（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/boosleida/home_page/sales_ranking_customer_num?rand_str=09299d98cd0c8e62328baa681043be92&timestamp=1536755716224&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
    }
   
```

返回参数说明：

``` python
   "ret_data":{
            "total_num_have_customer":Array[6], # 雷达用户拥有的客户总数。
            "yesterday_new_customer":Array[0],  # 昨日 - 新增客户
            "nearly_seven_new_customer":Array[0], # 近七天 - 新增客户
            "nearly_fifteen_new_customer":Array[0], # 近十五天 - 新增客户
            "nearly_thirty_new_customer":Array[0]    # 近三十天 - 新增客户
        }
    }
    
```

参数返回数据格式：
 ``` python
 {
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":{
            "total_num_have_customer":[
                {
                    "user_id":1,
                    "user__username":"张聪",  # 雷达用户的名字
                    "user__avatar":
                    "http://shp.qpic.cn/bizmp/prSBf5AvHhAV3730YB9qjpC4Uicv4pA4JBkjhgJmjzZSBB5vSC1gmrA/", # 雷达用户头像
                    "have_customer_num":2  # 拥有的 客户数量
                },
                {
                    "user_id":17,
                    "user__username":"董庆豪",
                    "user__avatar":"http://p.qlogo.cn/bizmail/Hic7WlIlOK4ROmwgW578uYp5a5ibLib2lBTiafwdNiapPiaPAcpgEYickorOw/0",
                    "have_customer_num":1
                },
                {
                    "user_id":16,
                    "user__username":"董庆杰",
                    "user__avatar":"http://p.qlogo.cn/bizmail/icsSQap1HofyEiaxak3ZlLiaVhqoVHl5IHzVFoQc933kfqKPcmicl8N3VQ/",
                    "have_customer_num":3
                },
            
                {
                    "user_id":55,
                    "user__username":"张炬",
                    "user__avatar":"http://p.qlogo.cn/bizmail/Tj5TZc6xibicYIiaQm9mghQl5oE5712iaVIBYicEAM0C20zpn8FBZUnXKmQ/0",
                    "have_customer_num":2
                },
                {
                    "user_id":18,
                    "user__username":"韩新颖",
                    "user__avatar":"http://p.qlogo.cn/bizmail/4bMnWic1gpehUtMwD5IqtABVEcmicSST32NRe7ynldicWtsdiag1Dtb8rQ/",
                    "have_customer_num":1
                }
            ],
            "yesterday_new_customer":[

            ],
            "nearly_seven_new_customer":[

            ],
            "nearly_fifteen_new_customer":[

            ],
            "nearly_thirty_new_customer":[

            ]
        }
    }
}
 
 
 
``` 


####    【企业微信 - 1.3.1、Boss雷达 - 销售排行 - 按客户人数-详细的客户信息 】
描述：包括 客户总数|新增客户 昨日、近7天、近15天、近30 查询出 具体客户信息。

请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/boosleida/home_page/query_have_customer_detail_people?rand_str=09299d98cd0c8e62328baa681043be92&timestamp=1536755716224&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
    }
   
```

POST 参数说明：

``` python
      {
       
        'query_user_id':  ID,              #要查询的雷达用户 ID
 
        'days': 0 | 7 | 15 | 30 ,      # 查询出所有的客户信息 | 查询昨天新增客户信息 | 查询近七天新增客户信息 | 查询近十五天新增客户信息 | 查询近三十天新增客户信息 
        
    }
   
    
```

参数返回数据格式：
 ``` python
{
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":[
            {
                "customer_id":9,
                "customer__expedted_pr":3,
                "customer__expected_time":"2018-07-10",
                "customer__username":"Ju do it 🌻 🍁 🍂",
                "customer__headimgurl":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqtfGSlosqAHIyH4NZBSu6b22RcI26aKeWx37paQGXbwonE3ckkkaVt1aelibzM7nW8Hs02uB6GXpQ/132",
                "customer__sex":null,
                "customer_status":"还未跟进过"  # 跟进状态
            },
            {
                "customer_id":1,
                "customer__expedted_pr":100,
                "customer__expected_time":"2018-07-21",
                "customer__username":"_zzz จุ๊บ",
                "customer__headimgurl":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83epcPbQBxqzSu2qXqWuCrodTSbvlBmqJuOF1OIuMp46k9SSUvCCWZCF8Nj28TCe17NwoAib2lq14bAA/132",
                "customer__sex":null,
                "customer_status":"还未跟进过"
            },
            {
                "customer_id":2,
                "customer__expedted_pr":null,
                "customer__expected_time":null,
                "customer__username":"卓飞网络科技乔建华",
                "customer__headimgurl":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAVukxTncJBxkVM1fZwo39nGdOTHibq0uUWuknOCCJBDeCEJxrHMiaEibZLmAksRNGUIaeF1CBtaVqA/132",
                "customer__sex":null,
                "customer_status":"还未跟进过"
            }
        ],
        "count":3
    }
}
 
``` 







####    【企业微信 - 1.4、Boss雷达 - 按互动频率- 按互动频率 】
描述：一口气展示 --> 跟进总数|咨询总数（昨日、近7天、近15天、近30天数据汇总展示）。

请求方式：GET（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/boosleida/home_page/hudong_pinlv_customer_num?rand_str=c347fba0ad7ce631c3b1ac3ce37ce3d0&timestamp=1536756748622&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
    }
   
```

返回参数说明：

``` python
 "ret_data":{
            "follow_num":{   #跟进总数
                "yesterday_data":Array[0],  # 昨日
                "nearly_seven_data":Array[0],  # 近七天
                "nearly_fifteen_data":Array[0], # 近十五天
                "nearly_thirty_data":Array[0]   # 近三十天
            },
            "consult_num":{  # 咨询总数
                "yesterday_data":Array[0],    # 昨日
                "nearly_seven_data":Array[0],  # 近七天
                "nearly_fifteen_data":Array[0], # 近十五天
                "nearly_thirty_data":Array[1]   # 近三十天
            }
    
```

参数返回数据格式：
 ``` python
{
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":{
            "follow_num":{
                "yesterday_data":[

                ],
                "nearly_seven_data":[

                ],
                "nearly_fifteen_data":[

                ],
                "nearly_thirty_data":[
                    {
                        "user_customer_flowup__user_id":55,  # 雷达用户ID 
                        "user_customer_flowup__user__avatar":"http://p.qlogo.cn/bizmail/Tj5TZc6xibicYIiaQm9mghQl5oE5712iaVIBYicEAM0C20zpn8FBZUnXKmQ/0",
                        "user_customer_flowup__user__username":"张炬",  # 雷达用户名字
                        "user_customer_flowup__user__gender":  "1",    # 雷达用户性别
                        "have_customer_num":1   # 此雷达拥有的客户数量
                    }
                ]
            },
            "consult_num":{
                "yesterday_data":[

                ],
                "nearly_seven_data":[

                ],
                "nearly_fifteen_data":[

                ],
                "nearly_thirty_data":[
                    {
                        "userprofile_id":1,
                        "userprofile__avatar":"http://shp.qpic.cn/bizmp/prSBf5AvHhAV3730YB9qjpC4Uicv4pA4JBkjhgJmjzZSBB5vSC1gmrA/",
                        "userprofile__username":"张聪",
                        "have_customer_num":1
                    },
                    {
                        "userprofile_id":2,
                        "userprofile__avatar":"http://p.qlogo.cn/bizmail/Tj5TZc6xibicYIiaQm9mghQl5oE5712iaVIBYicEAM0C20zpn8FBZUnXKmQ/0",
                        "userprofile__username":"大众CC",
                        "have_customer_num":1
                    },
                    {
                        "userprofile_id":55,
                        "userprofile__avatar":"http://p.qlogo.cn/bizmail/Tj5TZc6xibicYIiaQm9mghQl5oE5712iaVIBYicEAM0C20zpn8FBZUnXKmQ/0",
                        "userprofile__username":"张炬",
                        "have_customer_num":2
                    }
                ]
            }
        }
    }
}
 
``` 


####    【企业微信 - 1.4.2、Boss雷达 - 按互动频率- 跟进|咨询-具体客户的信息 】
描述：获取 跟进的客户（昨日、近7天、近15天、近30天 内具体信息。

请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/boosleida/home_page/query_hudong_have_customer_detail_people?rand_str=c347fba0ad7ce631c3b1ac3ce37ce3d0&timestamp=1536756748622&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
    }
   
```

POST 请求参数

``` python
 参数                                必要                  说明
 type                            是                    follow 代表获取 跟进的客户具体信息 | chat 代表 获取咨询的客户具体信息
 query_user_id                     是                    雷达用户ID
'days': 1 | 7 | 15 | 30 ,      #  查询昨天客户信息 | 查询近七天客户信息 | 查询近十五天客户信息 | 查询近三十天客户信息 
   
```


参数返回数据格式：
 ``` python
{
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":[
            {
                "customer_id":1,
                "customer_username":"_zzz จุ๊บ",
                "headimgurl":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83epcPbQBxqzSu2qXqWuCrodTSbvlBmqJuOF1OIuMp46k9SSUvCCWZCF8Nj28TCe17NwoAib2lq14bAA/132",
                "customer_sex":null,
                "expected_time":"2018-09-14",
                "expedted_pr":14,
                "source":1,
                "customer_status":"还未跟进过"
            }
        ],
        "count":1
    }
}
 
``` 





####    【企业微信 - 1.5、Boss雷达 - 销售排行- 按预计成交率 】
描述：统计雷达用户的 预计成交率在 1%-50%  51%-80%  81%-99%   100%的客户数量

请求方式：GET（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/boosleida/home_page/expect_chengjiaolv_customer_num?rand_str=980a2c25e74ca9ded8e30d959fe121a8&timestamp=1536757334097&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
    }
   
```

返回参数说明：

``` python
 "ret_data":{
            "1_50_pr":Array[3],  # 雷达用户 拥有的 预计成交率在 %1 - %50 之间的客户数
            "51_80_pr":Array[0], # 雷达用户 拥有的 预计成交率在 %51 - %80 之间的客户数
            "81_99_pr":Array[0], # 雷达用户 拥有的 预计成交率在 %81 - %99 之间的客户数
            "100_pr":Array[3]    # 雷达用户 拥有的 预计成交率在 %100 的客户数
        }
    
```

参数返回数据格式：
 ``` python
{
    "code":200,
    "data":{
        "ret_data":{
            "51_80_pr":[
                {
                    "have_customer_num":1,
                    "user_id":55,
                    "user__avatar":"http://p.qlogo.cn/bizmail/Tj5TZc6xibicYIiaQm9mghQl5oE5712iaVIBYicEAM0C20zpn8FBZUnXKmQ/0",
                    "user__username":"张炬"
                }
            ],
            "100_pr":[

            ],
            "81_99_pr":[

            ],
            "1_50_pr":[
                {
                    "have_customer_num":2,
                    "user_id":55,
                    "user__avatar":"http://p.qlogo.cn/bizmail/Tj5TZc6xibicYIiaQm9mghQl5oE5712iaVIBYicEAM0C20zpn8FBZUnXKmQ/0",
                    "user__username":"张炬"
                }
            ]
        }
    },
    "msg":"查询成功"
}
``` 

####    【企业微信 - 1.5.1、Boss雷达 - 销售排行- 查询预计成交率具体客户信息 】
描述：统计雷达用户的 预计成交率在 1%-50%  51%-80%  81%-99%   100%的客户数量

请求方式：POST（HTTP）
访问示例:

>http://127.0.0.1:8000/zhugeleida/boosleida/home_page/query_have_customer_detail_people?rand_str=980a2c25e74ca9ded8e30d959fe121a8&timestamp=1536757334097&user_id=1


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信的 用户ID      【必传公共参数 】   
    }
   
```

POST 请求参数

``` python
 参数                                必要                  说明
 query_user_id                     是                    雷达用户ID
 expedted_pr                     是                    传值：1_50_pr 代表成交概率为1%-50% | 传值51_80_pr 代表成交概率为51%-80% |  传值 81_99_pr代表成交概率为81%-99% | 传值：100_pr 代表成交概率为 100%
   
```

返回参数说明：

``` python
 "ret_data":{
            "1_50_pr":Array[3],  # 雷达用户 拥有的 预计成交率在 %1 - %50 之间的客户数
            "51_80_pr":Array[0], # 雷达用户 拥有的 预计成交率在 %51 - %80 之间的客户数
            "81_99_pr":Array[0], # 雷达用户 拥有的 预计成交率在 %81 - %99 之间的客户数
            "100_pr":Array[3]    # 雷达用户 拥有的 预计成交率在 %100 的客户数
        }
    
```

参数返回数据格式：
 ``` python
{
    "code":200,
    "msg":"查询成功",
    "data":{
        "ret_data":[
            {
                "customer_id":9,
                "customer_username":"Ju do it 🌻 🍁 🍂", # 客户名字
                "headimgurl":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqtfGSlosqAHIyH4NZBSu6b22RcI26aKeWx37paQGXbwonE3ckkkaVt1aelibzM7nW8Hs02uB6GXpQ/132",  #头像
                "customer_sex":null,   # 性别
                "expected_time":null,  # 预计成交时间
                "expedted_pr":34,      # 预计成交概率
                "source":1,                # 来源 1 是转发  2 扫码    
                "customer_status":"还未跟进过"  #跟进状态
            },
            {
                "customer_id":1,
                "customer_username":"_zzz จุ๊บ",
                "headimgurl":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83epcPbQBxqzSu2qXqWuCrodTSbvlBmqJuOF1OIuMp46k9SSUvCCWZCF8Nj28TCe17NwoAib2lq14bAA/132",
                "customer_sex":null,
                "expected_time":"2018-09-14",
                "expedted_pr":14,
                "source":1,
                "customer_status":"还未跟进过"
            }
        ],
        "count":2
    }
}
``` 




####  【企业微信 - 2.1、实时聊天-发送消息接口\获取最新消息】

请求方式：wocket

请求示例

>http://192.168.10.141:8001/zhugeleida/public/websocket/leida

 
雷达-参数说明：

```  python
#请求数据示例1：
{ 
   'user_id': '1',       # 雷达用户ID
   'customer_id': '2',  # 小程序用户ID
   'content': '{        # 注意：要序列化 content里的内容。
       "msg":"这个信息是文字\表情",
       "info_type":1    # 1 代表发送的文字\表情 。
       }'
}

#参数说明             必填        说明
customer_id      是          小程序用户ID
user_id          是          雷达用户ID
content = {      是          内容，要序列化 content里的内容。
    'info_type' :  1 ,     # 1 代表发送的文字\表情 。
    'msg': '这个信息是文字\表情'
}

    或
content = {
    'info_type' : 2 , # 2代表发送的产品咨询  3代表发送的电话号码  4代表发送的图片|截图  5、视频
    'product_cover_url': 'statics/zhugeleida/imgs/chat/2d49ecd2-9180-11e8-a32d-8e2edea1cc9c.png',
    'product_name': '产品名字',
    'product_price': '产品价格',
}
    或
content = {
    'info_type' : 3   ,   # 3代表客户要触发事件要电话号码  
    'msg': '您好,请问能否告诉我您的手机号?'
    ......
}
    或
content = {
         'info_type' : 4  ,   # 4代表发送的图片|截图
         'url': 'statics/zhugeleida/imgs/chat/xxxx.jnp'
         ......
    }
    或
content = {
         'info_type' : 5  ,   # 4代表发送的 视频
         'url': 'statics/zhugeleida/imgs/chat/YYYY.mp4'
         ......
     }  


``` 

发送数据后，返回结果：

```  python
{
    "code":200,
    "msg":"雷达消息-发送成功"
}

如果有新消息【自己发出去或者小程序发送给雷达用户】，都会实时的推送到雷达websocket 前端；
数据如下；
{
    "data": {
        "ret_data": [{
            "customer_id": 2,  # 小程序用户ID
            "customer_avatar": # 小程序用户头像 "https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAVukxTncJBxkVM1fZwo39nGdOTHibq0uUWuknOCCJBDeCEJxrHMiaEibZLmAksRNGUIaeF1CBtaVqA/132",
            "user_id": 1,  #雷达用户ID
            "src":         # #雷达用户头像  "https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAVukxTncJBxkVM1fZwo39nGdOTHibq0uUWuknOCCJBDeCEJxrHMiaEibZLmAksRNGUIaeF1CBtaVqA/132",
            "name": "卓飞网络科技乔建华",   #雷达用户名字
            "dateTime": "2018-11-07 18:57:00",
            "send_type": 1,   # 发送类型，1代表 雷达用户发送给小程序客户 ,  2代表 小程序客户发送给雷达用户。
            "is_customer_already_read": 0,
            "is_customer_already_read_text": "未读",
            "msg": "内容",   
            "info_type": 1  # 1 代表发送的文字\表情 。
        }],
        "count": 1
    },
    "msg": "实时推送雷达-最新聊天信息成功",
    "code": 200
}


``` 
 



####  【企业微信 - 后台登录 - 生成扫码登录的二维码】

请求方式：GET
请求示例
>http://api.zhugeyingxiao.com/zhugeleida/admin/open_qiyeweixin/web_scan_authorize_qrcode?rand_str=2858a545d578c8200fae23a42cc6de02&timestamp=1543895072269&user_id=1

 
返回结果：

```  python
{
    "code":200,
    "msg":"生成二维码成功",
    "data":{
        "auth_qrcode_url":"statics/zhugeleida/imgs/qiyeweixin/webLogin/uid_20181204_114433_qrCode.jpg",
        "auth_code":"e90ab930-f776-11e8-8b60-7085c28022e8"
    }
}

``` 

拿到返回的 auth_code ，然后建立 websocket 长连接，写个定时器不断循环登录后的状态；


 ####  【企业微信 - 2.1、实时聊天-发送消息接口\获取最新消息】

请求方式：wocket

请求示例

>http://192.168.10.141:8001/zhugeleida/public/websocket/scan_code_web_login


 
返回说明：

```  python
1、当第一次登录注册，发送  {'type' : 'register' }
2、当请求查询登录状态时，发送  {'type' : 'query_login_status', 'auth_code' : 'xxxxx'}
   返回 2.1\当返回  {
    'code': 201,
    'msg': '等待验证中', 
   } 代表 等待验证中
    
    2.2\当返回  {
        'code': 200,
        'msg': '登录成功',
        'data' :  {
            'user_id': obj.id,
            'token': obj.token,
            'role_id': 1,
            'username': name,
            'avatar':   avatar,

            'company_name': obj.company.name,
            'company_id': obj.company_id,

            'weChatQrCode': obj.company.weChatQrCode,
            'state': 'scan_code_web_login',
            'last_login_date': last_login_date,

        },
    } 说明 登录成功
    
    
    2.3\当返回 {
    'code': 301,
    'msg': '登录失败',
 }
    
    2.4\当返回
    {
        'code': 303,
        'msg': 'Auth code已经失效',
    } 说明 auth code 失效

    2.5\当返回 
    {
        'code': 504,
        'msg': '等待超时,关闭长连接'
    }说明  链接超时，（等待超过120秒,关闭链接了）

3、当用户退出登录时候 发送  {'type' : 'closed' } 关闭链接



``` 



#### 16.7、   【企业微信 - 公众号客户  - 按表格层级 展示出客户的数据  】
      
请求方式：GET（HTTP）
访问示例:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/article/query_customer_table_by_level/3?rand_str=3b7e1cce69ac55ccdf2d3454a0b83638&timestamp=1544448721859&user_id=1&level=1

前端逻辑描述：
    
    1、初始化数据时，传输 level = 0，和 uid =xx ，展示出当前用户的雷达数据；
    返回数据 {
    "code":200,
    "msg":"返回成功",
    "data":{
        "ret_data":[
            {
                "uid":"17",
                "user_name":"董庆豪",  # 雷达用户姓名
                "sex":1,    #
                "read_count":327,   # 阅读数量
                "forward_friend_circle_count":26,  #转发朋友圈次数
                "forward_friend_count":18,             #转发给朋友次数
                "lower_people_count":157,   # 下层人数
                "lower_level":5,                #下级层数
                "level":0   # level =0 代表 雷达用户的层级
            }
        ],
        "article_id":"3",
        "article_title":"合众康桥品牌大门户新闻源是如何帮助企业建立网络品牌！"
    }
}

    2、查询 当level = 1 和 uid = 17，查询此当前雷达用户下的 第一层所有的公众号客户的数据；
{
    "code":200,
    "msg":"返回成功",
    "data":{
        "ret_data":[
            {
                "id":133,
                "uid":17,
                "user_name":"董庆豪",  #雷达用户名字
                "customer_id":1061,    # 公众号客户ID
                "customer_name":"苏迪",  # 公众号客户名字
                "customer_headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELwy8Fkw2xwXxeQuTEuiaIPhmgseYjydbJhibuUoo3icwmmIFbPaRAtfGexozAtPQ0msoib2F5mJq7LJQ/132",
                "sex":"男",  # 性别
                "area":"",  #地区
                "read_count":4,   # 阅读数量
                "stay_time":"4分5秒",  # 停留时间
                "forward_friend_circle_count":0,  # 转发到朋友圈数
                "forward_friend_count":1,  # 转发到朋友数
                "lower_people_count":1,  # 下级人数
                "lower_level":1,   #下级层数
                "is_have_child":true, # 是否有子级
                "level":2  #此客户所在的层级
            },
            {
                "id":168,
                "uid":17,
                "user_name":"董庆豪",
                "customer_id":1116,
                "customer_name":"北京中诺口腔胡助理",
                "customer_headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKbUM5n1R1EOdslxicfGPKuPibTT590ibuJia1xCNVjibcqK5GWibV8icjqf7rbv5mS9qIgTYhmZiceQia8wcA/132",
                "sex":"女",
                "area":"北京丰台",
                "read_count":3,
                "stay_time":"2分5秒",
                "forward_friend_circle_count":0,
                "forward_friend_count":1,
                "lower_people_count":1,
                "lower_level":1,
                "is_have_child":true,
                "level":2
            }
        ],
        "total_level_num":5,  # 总层数
        "article_id":"3",
        "article_title":"合众康桥品牌大门户新闻源是如何帮助企业建立网络品牌！",
       
    }
}
    3、查询 当level = 1 和 uid = xx  和 query_customer_id =xx ，查询此用户的第二层所有的可户的下级人数和层级数；
    {
    "code":200,
    "msg":"返回成功",
    "data":{
        "ret_data":[
            {
                "id":190,
                "uid":17,
                "user_name":"董庆豪",
                "customer_id":894,
                "customer_name":"sunny",
                "customer_headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoBUdMu67zrld3SAYnHZDMFnibAGmOC6MP9xLBoVXWL3fIicibTuKONickfUCwyp7BaJibC5ogRZ9sXAibA/132",
                "sex":"男",
                "area":"北京海淀",
                "read_count":8,
                "stay_time":"6分25秒",
                "forward_friend_circle_count":0,
                "forward_friend_count":0,
                "lower_people_count":0,
                "lower_level":0,
                "is_have_child":false,
                "level":2
            },
            {
                "id":284,
                "uid":17,
                "user_name":"董庆豪",
                "customer_id":850,
                "customer_name":"张聪",
                "customer_headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLbTk9yliaYgyUib6PUxBcPbMZ5Bghic7CWMVHJUJWfV360vp7EVwqe2Osj94n4HL878gVrqJ5PhnvfA/132",
                "sex":"",
                "area":"北京丰台",
                "read_count":5,
                "stay_time":"2分55秒",
                "forward_friend_circle_count":0,
                "forward_friend_count":1,
                "lower_people_count":1,
                "lower_level":1,
                "is_have_child":true,
                "level":2
            }
        ],
        "total_level_num":5,
        "article_id":"3",
        "article_title":"合众康桥品牌大门户新闻源是如何帮助企业建立网络品牌！"
    }
}  


GET 请求参数

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),   #必传公共参数 
        'timestamp': timestamp,                               #必传公共参数  
        'user_id': 1,                    #企业微信用户ID    【必传公共参数 】  
        
        
  
        'level' :  1   # level=0 代表雷达用户的顶级；level=1-无限大代表 用户所在层级 【非必传公共参数 】
    
         'query_customer_id' :  857   # 代表查询公众号客户下的数据；
    }
   

``` 

URL 传参说明：

``` python
参数                                                必须                     说明
/zhugeleida/admin/article/query_customer_table_by_level/{{id}}     是                   文章ID

   
```
